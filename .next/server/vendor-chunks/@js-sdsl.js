"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@js-sdsl";
exports.ids = ["vendor-chunks/@js-sdsl"];
exports.modules = {

/***/ "(rsc)/./node_modules/@js-sdsl/ordered-map/dist/esm/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/@js-sdsl/ordered-map/dist/esm/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OrderedMap: () => (/* binding */ OrderedMap)\n/* harmony export */ });\nvar extendStatics = function(e, r) {\r\n    extendStatics = Object.setPrototypeOf || {\r\n        __proto__: []\r\n    } instanceof Array && function(e, r) {\r\n        e.__proto__ = r;\r\n    } || function(e, r) {\r\n        for (var t in r) if (Object.prototype.hasOwnProperty.call(r, t)) e[t] = r[t];\r\n    };\r\n    return extendStatics(e, r);\r\n};\r\n\r\nfunction __extends(e, r) {\r\n    if (typeof r !== \"function\" && r !== null) throw new TypeError(\"Class extends value \" + String(r) + \" is not a constructor or null\");\r\n    extendStatics(e, r);\r\n    function __() {\r\n        this.constructor = e;\r\n    }\r\n    e.prototype = r === null ? Object.create(r) : (__.prototype = r.prototype, new __);\r\n}\r\n\r\nfunction __generator(e, r) {\r\n    var t = {\r\n        label: 0,\r\n        sent: function() {\r\n            if (s[0] & 1) throw s[1];\r\n            return s[1];\r\n        },\r\n        trys: [],\r\n        ops: []\r\n    }, i, n, s, h;\r\n    return h = {\r\n        next: verb(0),\r\n        throw: verb(1),\r\n        return: verb(2)\r\n    }, typeof Symbol === \"function\" && (h[Symbol.iterator] = function() {\r\n        return this;\r\n    }), h;\r\n    function verb(e) {\r\n        return function(r) {\r\n            return step([ e, r ]);\r\n        };\r\n    }\r\n    function step(a) {\r\n        if (i) throw new TypeError(\"Generator is already executing.\");\r\n        while (h && (h = 0, a[0] && (t = 0)), t) try {\r\n            if (i = 1, n && (s = a[0] & 2 ? n[\"return\"] : a[0] ? n[\"throw\"] || ((s = n[\"return\"]) && s.call(n), \r\n            0) : n.next) && !(s = s.call(n, a[1])).done) return s;\r\n            if (n = 0, s) a = [ a[0] & 2, s.value ];\r\n            switch (a[0]) {\r\n              case 0:\r\n              case 1:\r\n                s = a;\r\n                break;\r\n\r\n              case 4:\r\n                t.label++;\r\n                return {\r\n                    value: a[1],\r\n                    done: false\r\n                };\r\n\r\n              case 5:\r\n                t.label++;\r\n                n = a[1];\r\n                a = [ 0 ];\r\n                continue;\r\n\r\n              case 7:\r\n                a = t.ops.pop();\r\n                t.trys.pop();\r\n                continue;\r\n\r\n              default:\r\n                if (!(s = t.trys, s = s.length > 0 && s[s.length - 1]) && (a[0] === 6 || a[0] === 2)) {\r\n                    t = 0;\r\n                    continue;\r\n                }\r\n                if (a[0] === 3 && (!s || a[1] > s[0] && a[1] < s[3])) {\r\n                    t.label = a[1];\r\n                    break;\r\n                }\r\n                if (a[0] === 6 && t.label < s[1]) {\r\n                    t.label = s[1];\r\n                    s = a;\r\n                    break;\r\n                }\r\n                if (s && t.label < s[2]) {\r\n                    t.label = s[2];\r\n                    t.ops.push(a);\r\n                    break;\r\n                }\r\n                if (s[2]) t.ops.pop();\r\n                t.trys.pop();\r\n                continue;\r\n            }\r\n            a = r.call(e, t);\r\n        } catch (e) {\r\n            a = [ 6, e ];\r\n            n = 0;\r\n        } finally {\r\n            i = s = 0;\r\n        }\r\n        if (a[0] & 5) throw a[1];\r\n        return {\r\n            value: a[0] ? a[1] : void 0,\r\n            done: true\r\n        };\r\n    }\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function(e, r, t) {\r\n    var i = new Error(t);\r\n    return i.name = \"SuppressedError\", i.error = e, i.suppressed = r, i;\r\n};\r\n\r\nvar TreeNode = function() {\r\n    function TreeNode(e, r, t) {\r\n        if (t === void 0) {\r\n            t = 1;\r\n        }\r\n        this.t = undefined;\r\n        this.i = undefined;\r\n        this.h = undefined;\r\n        this.u = e;\r\n        this.o = r;\r\n        this.l = t;\r\n    }\r\n    TreeNode.prototype.v = function() {\r\n        var e = this;\r\n        var r = e.h.h === e;\r\n        if (r && e.l === 1) {\r\n            e = e.i;\r\n        } else if (e.t) {\r\n            e = e.t;\r\n            while (e.i) {\r\n                e = e.i;\r\n            }\r\n        } else {\r\n            if (r) {\r\n                return e.h;\r\n            }\r\n            var t = e.h;\r\n            while (t.t === e) {\r\n                e = t;\r\n                t = e.h;\r\n            }\r\n            e = t;\r\n        }\r\n        return e;\r\n    };\r\n    TreeNode.prototype.p = function() {\r\n        var e = this;\r\n        if (e.i) {\r\n            e = e.i;\r\n            while (e.t) {\r\n                e = e.t;\r\n            }\r\n            return e;\r\n        } else {\r\n            var r = e.h;\r\n            while (r.i === e) {\r\n                e = r;\r\n                r = e.h;\r\n            }\r\n            if (e.i !== r) {\r\n                return r;\r\n            } else return e;\r\n        }\r\n    };\r\n    TreeNode.prototype.T = function() {\r\n        var e = this.h;\r\n        var r = this.i;\r\n        var t = r.t;\r\n        if (e.h === this) e.h = r; else if (e.t === this) e.t = r; else e.i = r;\r\n        r.h = e;\r\n        r.t = this;\r\n        this.h = r;\r\n        this.i = t;\r\n        if (t) t.h = this;\r\n        return r;\r\n    };\r\n    TreeNode.prototype.I = function() {\r\n        var e = this.h;\r\n        var r = this.t;\r\n        var t = r.i;\r\n        if (e.h === this) e.h = r; else if (e.t === this) e.t = r; else e.i = r;\r\n        r.h = e;\r\n        r.i = this;\r\n        this.h = r;\r\n        this.t = t;\r\n        if (t) t.h = this;\r\n        return r;\r\n    };\r\n    return TreeNode;\r\n}();\r\n\r\nvar TreeNodeEnableIndex = function(e) {\r\n    __extends(TreeNodeEnableIndex, e);\r\n    function TreeNodeEnableIndex() {\r\n        var r = e !== null && e.apply(this, arguments) || this;\r\n        r.O = 1;\r\n        return r;\r\n    }\r\n    TreeNodeEnableIndex.prototype.T = function() {\r\n        var r = e.prototype.T.call(this);\r\n        this.M();\r\n        r.M();\r\n        return r;\r\n    };\r\n    TreeNodeEnableIndex.prototype.I = function() {\r\n        var r = e.prototype.I.call(this);\r\n        this.M();\r\n        r.M();\r\n        return r;\r\n    };\r\n    TreeNodeEnableIndex.prototype.M = function() {\r\n        this.O = 1;\r\n        if (this.t) {\r\n            this.O += this.t.O;\r\n        }\r\n        if (this.i) {\r\n            this.O += this.i.O;\r\n        }\r\n    };\r\n    return TreeNodeEnableIndex;\r\n}(TreeNode);\r\n\r\nvar ContainerIterator = function() {\r\n    function ContainerIterator(e) {\r\n        if (e === void 0) {\r\n            e = 0;\r\n        }\r\n        this.iteratorType = e;\r\n    }\r\n    ContainerIterator.prototype.equals = function(e) {\r\n        return this.C === e.C;\r\n    };\r\n    return ContainerIterator;\r\n}();\r\n\r\nvar Base = function() {\r\n    function Base() {\r\n        this._ = 0;\r\n    }\r\n    Object.defineProperty(Base.prototype, \"length\", {\r\n        get: function() {\r\n            return this._;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Base.prototype.size = function() {\r\n        return this._;\r\n    };\r\n    Base.prototype.empty = function() {\r\n        return this._ === 0;\r\n    };\r\n    return Base;\r\n}();\r\n\r\nvar Container = function(e) {\r\n    __extends(Container, e);\r\n    function Container() {\r\n        return e !== null && e.apply(this, arguments) || this;\r\n    }\r\n    return Container;\r\n}(Base);\r\n\r\nfunction throwIteratorAccessError() {\r\n    throw new RangeError(\"Iterator access denied!\");\r\n}\r\n\r\nvar TreeContainer = function(e) {\r\n    __extends(TreeContainer, e);\r\n    function TreeContainer(r, t) {\r\n        if (r === void 0) {\r\n            r = function(e, r) {\r\n                if (e < r) return -1;\r\n                if (e > r) return 1;\r\n                return 0;\r\n            };\r\n        }\r\n        if (t === void 0) {\r\n            t = false;\r\n        }\r\n        var i = e.call(this) || this;\r\n        i.N = undefined;\r\n        i.g = r;\r\n        i.enableIndex = t;\r\n        i.S = t ? TreeNodeEnableIndex : TreeNode;\r\n        i.A = new i.S;\r\n        return i;\r\n    }\r\n    TreeContainer.prototype.m = function(e, r) {\r\n        var t = this.A;\r\n        while (e) {\r\n            var i = this.g(e.u, r);\r\n            if (i < 0) {\r\n                e = e.i;\r\n            } else if (i > 0) {\r\n                t = e;\r\n                e = e.t;\r\n            } else return e;\r\n        }\r\n        return t;\r\n    };\r\n    TreeContainer.prototype.B = function(e, r) {\r\n        var t = this.A;\r\n        while (e) {\r\n            var i = this.g(e.u, r);\r\n            if (i <= 0) {\r\n                e = e.i;\r\n            } else {\r\n                t = e;\r\n                e = e.t;\r\n            }\r\n        }\r\n        return t;\r\n    };\r\n    TreeContainer.prototype.j = function(e, r) {\r\n        var t = this.A;\r\n        while (e) {\r\n            var i = this.g(e.u, r);\r\n            if (i < 0) {\r\n                t = e;\r\n                e = e.i;\r\n            } else if (i > 0) {\r\n                e = e.t;\r\n            } else return e;\r\n        }\r\n        return t;\r\n    };\r\n    TreeContainer.prototype.k = function(e, r) {\r\n        var t = this.A;\r\n        while (e) {\r\n            var i = this.g(e.u, r);\r\n            if (i < 0) {\r\n                t = e;\r\n                e = e.i;\r\n            } else {\r\n                e = e.t;\r\n            }\r\n        }\r\n        return t;\r\n    };\r\n    TreeContainer.prototype.R = function(e) {\r\n        while (true) {\r\n            var r = e.h;\r\n            if (r === this.A) return;\r\n            if (e.l === 1) {\r\n                e.l = 0;\r\n                return;\r\n            }\r\n            if (e === r.t) {\r\n                var t = r.i;\r\n                if (t.l === 1) {\r\n                    t.l = 0;\r\n                    r.l = 1;\r\n                    if (r === this.N) {\r\n                        this.N = r.T();\r\n                    } else r.T();\r\n                } else {\r\n                    if (t.i && t.i.l === 1) {\r\n                        t.l = r.l;\r\n                        r.l = 0;\r\n                        t.i.l = 0;\r\n                        if (r === this.N) {\r\n                            this.N = r.T();\r\n                        } else r.T();\r\n                        return;\r\n                    } else if (t.t && t.t.l === 1) {\r\n                        t.l = 1;\r\n                        t.t.l = 0;\r\n                        t.I();\r\n                    } else {\r\n                        t.l = 1;\r\n                        e = r;\r\n                    }\r\n                }\r\n            } else {\r\n                var t = r.t;\r\n                if (t.l === 1) {\r\n                    t.l = 0;\r\n                    r.l = 1;\r\n                    if (r === this.N) {\r\n                        this.N = r.I();\r\n                    } else r.I();\r\n                } else {\r\n                    if (t.t && t.t.l === 1) {\r\n                        t.l = r.l;\r\n                        r.l = 0;\r\n                        t.t.l = 0;\r\n                        if (r === this.N) {\r\n                            this.N = r.I();\r\n                        } else r.I();\r\n                        return;\r\n                    } else if (t.i && t.i.l === 1) {\r\n                        t.l = 1;\r\n                        t.i.l = 0;\r\n                        t.T();\r\n                    } else {\r\n                        t.l = 1;\r\n                        e = r;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    TreeContainer.prototype.G = function(e) {\r\n        if (this._ === 1) {\r\n            this.clear();\r\n            return;\r\n        }\r\n        var r = e;\r\n        while (r.t || r.i) {\r\n            if (r.i) {\r\n                r = r.i;\r\n                while (r.t) r = r.t;\r\n            } else {\r\n                r = r.t;\r\n            }\r\n            var t = e.u;\r\n            e.u = r.u;\r\n            r.u = t;\r\n            var i = e.o;\r\n            e.o = r.o;\r\n            r.o = i;\r\n            e = r;\r\n        }\r\n        if (this.A.t === r) {\r\n            this.A.t = r.h;\r\n        } else if (this.A.i === r) {\r\n            this.A.i = r.h;\r\n        }\r\n        this.R(r);\r\n        var n = r.h;\r\n        if (r === n.t) {\r\n            n.t = undefined;\r\n        } else n.i = undefined;\r\n        this._ -= 1;\r\n        this.N.l = 0;\r\n        if (this.enableIndex) {\r\n            while (n !== this.A) {\r\n                n.O -= 1;\r\n                n = n.h;\r\n            }\r\n        }\r\n    };\r\n    TreeContainer.prototype.P = function(e) {\r\n        var r = typeof e === \"number\" ? e : undefined;\r\n        var t = typeof e === \"function\" ? e : undefined;\r\n        var i = typeof e === \"undefined\" ? [] : undefined;\r\n        var n = 0;\r\n        var s = this.N;\r\n        var h = [];\r\n        while (h.length || s) {\r\n            if (s) {\r\n                h.push(s);\r\n                s = s.t;\r\n            } else {\r\n                s = h.pop();\r\n                if (n === r) return s;\r\n                i && i.push(s);\r\n                t && t(s, n, this);\r\n                n += 1;\r\n                s = s.i;\r\n            }\r\n        }\r\n        return i;\r\n    };\r\n    TreeContainer.prototype.q = function(e) {\r\n        while (true) {\r\n            var r = e.h;\r\n            if (r.l === 0) return;\r\n            var t = r.h;\r\n            if (r === t.t) {\r\n                var i = t.i;\r\n                if (i && i.l === 1) {\r\n                    i.l = r.l = 0;\r\n                    if (t === this.N) return;\r\n                    t.l = 1;\r\n                    e = t;\r\n                    continue;\r\n                } else if (e === r.i) {\r\n                    e.l = 0;\r\n                    if (e.t) {\r\n                        e.t.h = r;\r\n                    }\r\n                    if (e.i) {\r\n                        e.i.h = t;\r\n                    }\r\n                    r.i = e.t;\r\n                    t.t = e.i;\r\n                    e.t = r;\r\n                    e.i = t;\r\n                    if (t === this.N) {\r\n                        this.N = e;\r\n                        this.A.h = e;\r\n                    } else {\r\n                        var n = t.h;\r\n                        if (n.t === t) {\r\n                            n.t = e;\r\n                        } else n.i = e;\r\n                    }\r\n                    e.h = t.h;\r\n                    r.h = e;\r\n                    t.h = e;\r\n                    t.l = 1;\r\n                } else {\r\n                    r.l = 0;\r\n                    if (t === this.N) {\r\n                        this.N = t.I();\r\n                    } else t.I();\r\n                    t.l = 1;\r\n                    return;\r\n                }\r\n            } else {\r\n                var i = t.t;\r\n                if (i && i.l === 1) {\r\n                    i.l = r.l = 0;\r\n                    if (t === this.N) return;\r\n                    t.l = 1;\r\n                    e = t;\r\n                    continue;\r\n                } else if (e === r.t) {\r\n                    e.l = 0;\r\n                    if (e.t) {\r\n                        e.t.h = t;\r\n                    }\r\n                    if (e.i) {\r\n                        e.i.h = r;\r\n                    }\r\n                    t.i = e.t;\r\n                    r.t = e.i;\r\n                    e.t = t;\r\n                    e.i = r;\r\n                    if (t === this.N) {\r\n                        this.N = e;\r\n                        this.A.h = e;\r\n                    } else {\r\n                        var n = t.h;\r\n                        if (n.t === t) {\r\n                            n.t = e;\r\n                        } else n.i = e;\r\n                    }\r\n                    e.h = t.h;\r\n                    r.h = e;\r\n                    t.h = e;\r\n                    t.l = 1;\r\n                } else {\r\n                    r.l = 0;\r\n                    if (t === this.N) {\r\n                        this.N = t.T();\r\n                    } else t.T();\r\n                    t.l = 1;\r\n                    return;\r\n                }\r\n            }\r\n            if (this.enableIndex) {\r\n                r.M();\r\n                t.M();\r\n                e.M();\r\n            }\r\n            return;\r\n        }\r\n    };\r\n    TreeContainer.prototype.D = function(e, r, t) {\r\n        if (this.N === undefined) {\r\n            this._ += 1;\r\n            this.N = new this.S(e, r, 0);\r\n            this.N.h = this.A;\r\n            this.A.h = this.A.t = this.A.i = this.N;\r\n            return this._;\r\n        }\r\n        var i;\r\n        var n = this.A.t;\r\n        var s = this.g(n.u, e);\r\n        if (s === 0) {\r\n            n.o = r;\r\n            return this._;\r\n        } else if (s > 0) {\r\n            n.t = new this.S(e, r);\r\n            n.t.h = n;\r\n            i = n.t;\r\n            this.A.t = i;\r\n        } else {\r\n            var h = this.A.i;\r\n            var a = this.g(h.u, e);\r\n            if (a === 0) {\r\n                h.o = r;\r\n                return this._;\r\n            } else if (a < 0) {\r\n                h.i = new this.S(e, r);\r\n                h.i.h = h;\r\n                i = h.i;\r\n                this.A.i = i;\r\n            } else {\r\n                if (t !== undefined) {\r\n                    var u = t.C;\r\n                    if (u !== this.A) {\r\n                        var f = this.g(u.u, e);\r\n                        if (f === 0) {\r\n                            u.o = r;\r\n                            return this._;\r\n                        } else if (f > 0) {\r\n                            var o = u.v();\r\n                            var d = this.g(o.u, e);\r\n                            if (d === 0) {\r\n                                o.o = r;\r\n                                return this._;\r\n                            } else if (d < 0) {\r\n                                i = new this.S(e, r);\r\n                                if (o.i === undefined) {\r\n                                    o.i = i;\r\n                                    i.h = o;\r\n                                } else {\r\n                                    u.t = i;\r\n                                    i.h = u;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (i === undefined) {\r\n                    i = this.N;\r\n                    while (true) {\r\n                        var c = this.g(i.u, e);\r\n                        if (c > 0) {\r\n                            if (i.t === undefined) {\r\n                                i.t = new this.S(e, r);\r\n                                i.t.h = i;\r\n                                i = i.t;\r\n                                break;\r\n                            }\r\n                            i = i.t;\r\n                        } else if (c < 0) {\r\n                            if (i.i === undefined) {\r\n                                i.i = new this.S(e, r);\r\n                                i.i.h = i;\r\n                                i = i.i;\r\n                                break;\r\n                            }\r\n                            i = i.i;\r\n                        } else {\r\n                            i.o = r;\r\n                            return this._;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        if (this.enableIndex) {\r\n            var l = i.h;\r\n            while (l !== this.A) {\r\n                l.O += 1;\r\n                l = l.h;\r\n            }\r\n        }\r\n        this.q(i);\r\n        this._ += 1;\r\n        return this._;\r\n    };\r\n    TreeContainer.prototype.F = function(e, r) {\r\n        while (e) {\r\n            var t = this.g(e.u, r);\r\n            if (t < 0) {\r\n                e = e.i;\r\n            } else if (t > 0) {\r\n                e = e.t;\r\n            } else return e;\r\n        }\r\n        return e || this.A;\r\n    };\r\n    TreeContainer.prototype.clear = function() {\r\n        this._ = 0;\r\n        this.N = undefined;\r\n        this.A.h = undefined;\r\n        this.A.t = this.A.i = undefined;\r\n    };\r\n    TreeContainer.prototype.updateKeyByIterator = function(e, r) {\r\n        var t = e.C;\r\n        if (t === this.A) {\r\n            throwIteratorAccessError();\r\n        }\r\n        if (this._ === 1) {\r\n            t.u = r;\r\n            return true;\r\n        }\r\n        var i = t.p().u;\r\n        if (t === this.A.t) {\r\n            if (this.g(i, r) > 0) {\r\n                t.u = r;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        var n = t.v().u;\r\n        if (t === this.A.i) {\r\n            if (this.g(n, r) < 0) {\r\n                t.u = r;\r\n                return true;\r\n            }\r\n            return false;\r\n        }\r\n        if (this.g(n, r) >= 0 || this.g(i, r) <= 0) return false;\r\n        t.u = r;\r\n        return true;\r\n    };\r\n    TreeContainer.prototype.eraseElementByPos = function(e) {\r\n        if (e < 0 || e > this._ - 1) {\r\n            throw new RangeError;\r\n        }\r\n        var r = this.P(e);\r\n        this.G(r);\r\n        return this._;\r\n    };\r\n    TreeContainer.prototype.eraseElementByKey = function(e) {\r\n        if (this._ === 0) return false;\r\n        var r = this.F(this.N, e);\r\n        if (r === this.A) return false;\r\n        this.G(r);\r\n        return true;\r\n    };\r\n    TreeContainer.prototype.eraseElementByIterator = function(e) {\r\n        var r = e.C;\r\n        if (r === this.A) {\r\n            throwIteratorAccessError();\r\n        }\r\n        var t = r.i === undefined;\r\n        var i = e.iteratorType === 0;\r\n        if (i) {\r\n            if (t) e.next();\r\n        } else {\r\n            if (!t || r.t === undefined) e.next();\r\n        }\r\n        this.G(r);\r\n        return e;\r\n    };\r\n    TreeContainer.prototype.getHeight = function() {\r\n        if (this._ === 0) return 0;\r\n        function traversal(e) {\r\n            if (!e) return 0;\r\n            return Math.max(traversal(e.t), traversal(e.i)) + 1;\r\n        }\r\n        return traversal(this.N);\r\n    };\r\n    return TreeContainer;\r\n}(Container);\r\n\r\nvar TreeIterator = function(e) {\r\n    __extends(TreeIterator, e);\r\n    function TreeIterator(r, t, i) {\r\n        var n = e.call(this, i) || this;\r\n        n.C = r;\r\n        n.A = t;\r\n        if (n.iteratorType === 0) {\r\n            n.pre = function() {\r\n                if (this.C === this.A.t) {\r\n                    throwIteratorAccessError();\r\n                }\r\n                this.C = this.C.v();\r\n                return this;\r\n            };\r\n            n.next = function() {\r\n                if (this.C === this.A) {\r\n                    throwIteratorAccessError();\r\n                }\r\n                this.C = this.C.p();\r\n                return this;\r\n            };\r\n        } else {\r\n            n.pre = function() {\r\n                if (this.C === this.A.i) {\r\n                    throwIteratorAccessError();\r\n                }\r\n                this.C = this.C.p();\r\n                return this;\r\n            };\r\n            n.next = function() {\r\n                if (this.C === this.A) {\r\n                    throwIteratorAccessError();\r\n                }\r\n                this.C = this.C.v();\r\n                return this;\r\n            };\r\n        }\r\n        return n;\r\n    }\r\n    Object.defineProperty(TreeIterator.prototype, \"index\", {\r\n        get: function() {\r\n            var e = this.C;\r\n            var r = this.A.h;\r\n            if (e === this.A) {\r\n                if (r) {\r\n                    return r.O - 1;\r\n                }\r\n                return 0;\r\n            }\r\n            var t = 0;\r\n            if (e.t) {\r\n                t += e.t.O;\r\n            }\r\n            while (e !== r) {\r\n                var i = e.h;\r\n                if (e === i.i) {\r\n                    t += 1;\r\n                    if (i.t) {\r\n                        t += i.t.O;\r\n                    }\r\n                }\r\n                e = i;\r\n            }\r\n            return t;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    TreeIterator.prototype.isAccessible = function() {\r\n        return this.C !== this.A;\r\n    };\r\n    return TreeIterator;\r\n}(ContainerIterator);\r\n\r\nvar OrderedMapIterator = function(e) {\r\n    __extends(OrderedMapIterator, e);\r\n    function OrderedMapIterator(r, t, i, n) {\r\n        var s = e.call(this, r, t, n) || this;\r\n        s.container = i;\r\n        return s;\r\n    }\r\n    Object.defineProperty(OrderedMapIterator.prototype, \"pointer\", {\r\n        get: function() {\r\n            if (this.C === this.A) {\r\n                throwIteratorAccessError();\r\n            }\r\n            var e = this;\r\n            return new Proxy([], {\r\n                get: function(r, t) {\r\n                    if (t === \"0\") return e.C.u; else if (t === \"1\") return e.C.o;\r\n                    r[0] = e.C.u;\r\n                    r[1] = e.C.o;\r\n                    return r[t];\r\n                },\r\n                set: function(r, t, i) {\r\n                    if (t !== \"1\") {\r\n                        throw new TypeError(\"prop must be 1\");\r\n                    }\r\n                    e.C.o = i;\r\n                    return true;\r\n                }\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    OrderedMapIterator.prototype.copy = function() {\r\n        return new OrderedMapIterator(this.C, this.A, this.container, this.iteratorType);\r\n    };\r\n    return OrderedMapIterator;\r\n}(TreeIterator);\r\n\r\nvar OrderedMap = function(e) {\r\n    __extends(OrderedMap, e);\r\n    function OrderedMap(r, t, i) {\r\n        if (r === void 0) {\r\n            r = [];\r\n        }\r\n        var n = e.call(this, t, i) || this;\r\n        var s = n;\r\n        r.forEach((function(e) {\r\n            s.setElement(e[0], e[1]);\r\n        }));\r\n        return n;\r\n    }\r\n    OrderedMap.prototype.begin = function() {\r\n        return new OrderedMapIterator(this.A.t || this.A, this.A, this);\r\n    };\r\n    OrderedMap.prototype.end = function() {\r\n        return new OrderedMapIterator(this.A, this.A, this);\r\n    };\r\n    OrderedMap.prototype.rBegin = function() {\r\n        return new OrderedMapIterator(this.A.i || this.A, this.A, this, 1);\r\n    };\r\n    OrderedMap.prototype.rEnd = function() {\r\n        return new OrderedMapIterator(this.A, this.A, this, 1);\r\n    };\r\n    OrderedMap.prototype.front = function() {\r\n        if (this._ === 0) return;\r\n        var e = this.A.t;\r\n        return [ e.u, e.o ];\r\n    };\r\n    OrderedMap.prototype.back = function() {\r\n        if (this._ === 0) return;\r\n        var e = this.A.i;\r\n        return [ e.u, e.o ];\r\n    };\r\n    OrderedMap.prototype.lowerBound = function(e) {\r\n        var r = this.m(this.N, e);\r\n        return new OrderedMapIterator(r, this.A, this);\r\n    };\r\n    OrderedMap.prototype.upperBound = function(e) {\r\n        var r = this.B(this.N, e);\r\n        return new OrderedMapIterator(r, this.A, this);\r\n    };\r\n    OrderedMap.prototype.reverseLowerBound = function(e) {\r\n        var r = this.j(this.N, e);\r\n        return new OrderedMapIterator(r, this.A, this);\r\n    };\r\n    OrderedMap.prototype.reverseUpperBound = function(e) {\r\n        var r = this.k(this.N, e);\r\n        return new OrderedMapIterator(r, this.A, this);\r\n    };\r\n    OrderedMap.prototype.forEach = function(e) {\r\n        this.P((function(r, t, i) {\r\n            e([ r.u, r.o ], t, i);\r\n        }));\r\n    };\r\n    OrderedMap.prototype.setElement = function(e, r, t) {\r\n        return this.D(e, r, t);\r\n    };\r\n    OrderedMap.prototype.getElementByPos = function(e) {\r\n        if (e < 0 || e > this._ - 1) {\r\n            throw new RangeError;\r\n        }\r\n        var r = this.P(e);\r\n        return [ r.u, r.o ];\r\n    };\r\n    OrderedMap.prototype.find = function(e) {\r\n        var r = this.F(this.N, e);\r\n        return new OrderedMapIterator(r, this.A, this);\r\n    };\r\n    OrderedMap.prototype.getElementByKey = function(e) {\r\n        var r = this.F(this.N, e);\r\n        return r.o;\r\n    };\r\n    OrderedMap.prototype.union = function(e) {\r\n        var r = this;\r\n        e.forEach((function(e) {\r\n            r.setElement(e[0], e[1]);\r\n        }));\r\n        return this._;\r\n    };\r\n    OrderedMap.prototype[Symbol.iterator] = function() {\r\n        var e, r, t, i;\r\n        return __generator(this, (function(n) {\r\n            switch (n.label) {\r\n              case 0:\r\n                e = this._;\r\n                r = this.P();\r\n                t = 0;\r\n                n.label = 1;\r\n\r\n              case 1:\r\n                if (!(t < e)) return [ 3, 4 ];\r\n                i = r[t];\r\n                return [ 4, [ i.u, i.o ] ];\r\n\r\n              case 2:\r\n                n.sent();\r\n                n.label = 3;\r\n\r\n              case 3:\r\n                ++t;\r\n                return [ 3, 1 ];\r\n\r\n              case 4:\r\n                return [ 2 ];\r\n            }\r\n        }));\r\n    };\r\n    return OrderedMap;\r\n}(TreeContainer);\r\n\r\n\r\n//# sourceMappingURL=index.js.map\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvQGpzLXNkc2wvb3JkZXJlZC1tYXAvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0NBQWdDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0NBQWdDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QixrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0I7QUFDbEI7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQjtBQUNsQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRDtBQUNqRDtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYW5pc2gtYnVkZHkvLi9ub2RlX21vZHVsZXMvQGpzLXNkc2wvb3JkZXJlZC1tYXAvZGlzdC9lc20vaW5kZXguanM/NzAwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGUsIHIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwge1xyXG4gICAgICAgIF9fcHJvdG9fXzogW11cclxuICAgIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbihlLCByKSB7XHJcbiAgICAgICAgZS5fX3Byb3RvX18gPSByO1xyXG4gICAgfSB8fCBmdW5jdGlvbihlLCByKSB7XHJcbiAgICAgICAgZm9yICh2YXIgdCBpbiByKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHIsIHQpKSBlW3RdID0gclt0XTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhlLCByKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhlLCByKSB7XHJcbiAgICBpZiAodHlwZW9mIHIgIT09IFwiZnVuY3Rpb25cIiAmJiByICE9PSBudWxsKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2xhc3MgZXh0ZW5kcyB2YWx1ZSBcIiArIFN0cmluZyhyKSArIFwiIGlzIG5vdCBhIGNvbnN0cnVjdG9yIG9yIG51bGxcIik7XHJcbiAgICBleHRlbmRTdGF0aWNzKGUsIHIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7XHJcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGU7XHJcbiAgICB9XHJcbiAgICBlLnByb3RvdHlwZSA9IHIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKHIpIDogKF9fLnByb3RvdHlwZSA9IHIucHJvdG90eXBlLCBuZXcgX18pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBfX2dlbmVyYXRvcihlLCByKSB7XHJcbiAgICB2YXIgdCA9IHtcclxuICAgICAgICBsYWJlbDogMCxcclxuICAgICAgICBzZW50OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHNbMF0gJiAxKSB0aHJvdyBzWzFdO1xyXG4gICAgICAgICAgICByZXR1cm4gc1sxXTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRyeXM6IFtdLFxyXG4gICAgICAgIG9wczogW11cclxuICAgIH0sIGksIG4sIHMsIGg7XHJcbiAgICByZXR1cm4gaCA9IHtcclxuICAgICAgICBuZXh0OiB2ZXJiKDApLFxyXG4gICAgICAgIHRocm93OiB2ZXJiKDEpLFxyXG4gICAgICAgIHJldHVybjogdmVyYigyKVxyXG4gICAgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChoW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH0pLCBoO1xyXG4gICAgZnVuY3Rpb24gdmVyYihlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHN0ZXAoWyBlLCByIF0pO1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKGEpIHtcclxuICAgICAgICBpZiAoaSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XHJcbiAgICAgICAgd2hpbGUgKGggJiYgKGggPSAwLCBhWzBdICYmICh0ID0gMCkpLCB0KSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoaSA9IDEsIG4gJiYgKHMgPSBhWzBdICYgMiA/IG5bXCJyZXR1cm5cIl0gOiBhWzBdID8gbltcInRocm93XCJdIHx8ICgocyA9IG5bXCJyZXR1cm5cIl0pICYmIHMuY2FsbChuKSwgXHJcbiAgICAgICAgICAgIDApIDogbi5uZXh0KSAmJiAhKHMgPSBzLmNhbGwobiwgYVsxXSkpLmRvbmUpIHJldHVybiBzO1xyXG4gICAgICAgICAgICBpZiAobiA9IDAsIHMpIGEgPSBbIGFbMF0gJiAyLCBzLnZhbHVlIF07XHJcbiAgICAgICAgICAgIHN3aXRjaCAoYVswXSkge1xyXG4gICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICBzID0gYTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICB0LmxhYmVsKys7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBhWzFdLFxyXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6IGZhbHNlXHJcbiAgICAgICAgICAgICAgICB9O1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICB0LmxhYmVsKys7XHJcbiAgICAgICAgICAgICAgICBuID0gYVsxXTtcclxuICAgICAgICAgICAgICAgIGEgPSBbIDAgXTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIDc6XHJcbiAgICAgICAgICAgICAgICBhID0gdC5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICB0LnRyeXMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuXHJcbiAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGlmICghKHMgPSB0LnRyeXMsIHMgPSBzLmxlbmd0aCA+IDAgJiYgc1tzLmxlbmd0aCAtIDFdKSAmJiAoYVswXSA9PT0gNiB8fCBhWzBdID09PSAyKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFbMF0gPT09IDMgJiYgKCFzIHx8IGFbMV0gPiBzWzBdICYmIGFbMV0gPCBzWzNdKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQubGFiZWwgPSBhWzFdO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGFbMF0gPT09IDYgJiYgdC5sYWJlbCA8IHNbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICB0LmxhYmVsID0gc1sxXTtcclxuICAgICAgICAgICAgICAgICAgICBzID0gYTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzICYmIHQubGFiZWwgPCBzWzJdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5sYWJlbCA9IHNbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgdC5vcHMucHVzaChhKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmIChzWzJdKSB0Lm9wcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIHQudHJ5cy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGEgPSByLmNhbGwoZSwgdCk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICBhID0gWyA2LCBlIF07XHJcbiAgICAgICAgICAgIG4gPSAwO1xyXG4gICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIGkgPSBzID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGFbMF0gJiA1KSB0aHJvdyBhWzFdO1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHZhbHVlOiBhWzBdID8gYVsxXSA6IHZvaWQgMCxcclxuICAgICAgICAgICAgZG9uZTogdHJ1ZVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbnR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uKGUsIHIsIHQpIHtcclxuICAgIHZhciBpID0gbmV3IEVycm9yKHQpO1xyXG4gICAgcmV0dXJuIGkubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGkuZXJyb3IgPSBlLCBpLnN1cHByZXNzZWQgPSByLCBpO1xyXG59O1xyXG5cclxudmFyIFRyZWVOb2RlID0gZnVuY3Rpb24oKSB7XHJcbiAgICBmdW5jdGlvbiBUcmVlTm9kZShlLCByLCB0KSB7XHJcbiAgICAgICAgaWYgKHQgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICB0ID0gMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy50ID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuaSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLmggPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdGhpcy51ID0gZTtcclxuICAgICAgICB0aGlzLm8gPSByO1xyXG4gICAgICAgIHRoaXMubCA9IHQ7XHJcbiAgICB9XHJcbiAgICBUcmVlTm9kZS5wcm90b3R5cGUudiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcztcclxuICAgICAgICB2YXIgciA9IGUuaC5oID09PSBlO1xyXG4gICAgICAgIGlmIChyICYmIGUubCA9PT0gMSkge1xyXG4gICAgICAgICAgICBlID0gZS5pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZS50KSB7XHJcbiAgICAgICAgICAgIGUgPSBlLnQ7XHJcbiAgICAgICAgICAgIHdoaWxlIChlLmkpIHtcclxuICAgICAgICAgICAgICAgIGUgPSBlLmk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBpZiAocikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdCA9IGUuaDtcclxuICAgICAgICAgICAgd2hpbGUgKHQudCA9PT0gZSkge1xyXG4gICAgICAgICAgICAgICAgZSA9IHQ7XHJcbiAgICAgICAgICAgICAgICB0ID0gZS5oO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGUgPSB0O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZTtcclxuICAgIH07XHJcbiAgICBUcmVlTm9kZS5wcm90b3R5cGUucCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcztcclxuICAgICAgICBpZiAoZS5pKSB7XHJcbiAgICAgICAgICAgIGUgPSBlLmk7XHJcbiAgICAgICAgICAgIHdoaWxlIChlLnQpIHtcclxuICAgICAgICAgICAgICAgIGUgPSBlLnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGU7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIHIgPSBlLmg7XHJcbiAgICAgICAgICAgIHdoaWxlIChyLmkgPT09IGUpIHtcclxuICAgICAgICAgICAgICAgIGUgPSByO1xyXG4gICAgICAgICAgICAgICAgciA9IGUuaDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoZS5pICE9PSByKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcjtcclxuICAgICAgICAgICAgfSBlbHNlIHJldHVybiBlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUcmVlTm9kZS5wcm90b3R5cGUuVCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlID0gdGhpcy5oO1xyXG4gICAgICAgIHZhciByID0gdGhpcy5pO1xyXG4gICAgICAgIHZhciB0ID0gci50O1xyXG4gICAgICAgIGlmIChlLmggPT09IHRoaXMpIGUuaCA9IHI7IGVsc2UgaWYgKGUudCA9PT0gdGhpcykgZS50ID0gcjsgZWxzZSBlLmkgPSByO1xyXG4gICAgICAgIHIuaCA9IGU7XHJcbiAgICAgICAgci50ID0gdGhpcztcclxuICAgICAgICB0aGlzLmggPSByO1xyXG4gICAgICAgIHRoaXMuaSA9IHQ7XHJcbiAgICAgICAgaWYgKHQpIHQuaCA9IHRoaXM7XHJcbiAgICAgICAgcmV0dXJuIHI7XHJcbiAgICB9O1xyXG4gICAgVHJlZU5vZGUucHJvdG90eXBlLkkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgZSA9IHRoaXMuaDtcclxuICAgICAgICB2YXIgciA9IHRoaXMudDtcclxuICAgICAgICB2YXIgdCA9IHIuaTtcclxuICAgICAgICBpZiAoZS5oID09PSB0aGlzKSBlLmggPSByOyBlbHNlIGlmIChlLnQgPT09IHRoaXMpIGUudCA9IHI7IGVsc2UgZS5pID0gcjtcclxuICAgICAgICByLmggPSBlO1xyXG4gICAgICAgIHIuaSA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5oID0gcjtcclxuICAgICAgICB0aGlzLnQgPSB0O1xyXG4gICAgICAgIGlmICh0KSB0LmggPSB0aGlzO1xyXG4gICAgICAgIHJldHVybiByO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUcmVlTm9kZTtcclxufSgpO1xyXG5cclxudmFyIFRyZWVOb2RlRW5hYmxlSW5kZXggPSBmdW5jdGlvbihlKSB7XHJcbiAgICBfX2V4dGVuZHMoVHJlZU5vZGVFbmFibGVJbmRleCwgZSk7XHJcbiAgICBmdW5jdGlvbiBUcmVlTm9kZUVuYWJsZUluZGV4KCkge1xyXG4gICAgICAgIHZhciByID0gZSAhPT0gbnVsbCAmJiBlLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgICAgICByLk8gPSAxO1xyXG4gICAgICAgIHJldHVybiByO1xyXG4gICAgfVxyXG4gICAgVHJlZU5vZGVFbmFibGVJbmRleC5wcm90b3R5cGUuVCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciByID0gZS5wcm90b3R5cGUuVC5jYWxsKHRoaXMpO1xyXG4gICAgICAgIHRoaXMuTSgpO1xyXG4gICAgICAgIHIuTSgpO1xyXG4gICAgICAgIHJldHVybiByO1xyXG4gICAgfTtcclxuICAgIFRyZWVOb2RlRW5hYmxlSW5kZXgucHJvdG90eXBlLkkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICB2YXIgciA9IGUucHJvdG90eXBlLkkuY2FsbCh0aGlzKTtcclxuICAgICAgICB0aGlzLk0oKTtcclxuICAgICAgICByLk0oKTtcclxuICAgICAgICByZXR1cm4gcjtcclxuICAgIH07XHJcbiAgICBUcmVlTm9kZUVuYWJsZUluZGV4LnByb3RvdHlwZS5NID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgdGhpcy5PID0gMTtcclxuICAgICAgICBpZiAodGhpcy50KSB7XHJcbiAgICAgICAgICAgIHRoaXMuTyArPSB0aGlzLnQuTztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuaSkge1xyXG4gICAgICAgICAgICB0aGlzLk8gKz0gdGhpcy5pLk87XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBUcmVlTm9kZUVuYWJsZUluZGV4O1xyXG59KFRyZWVOb2RlKTtcclxuXHJcbnZhciBDb250YWluZXJJdGVyYXRvciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgZnVuY3Rpb24gQ29udGFpbmVySXRlcmF0b3IoZSkge1xyXG4gICAgICAgIGlmIChlID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgZSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaXRlcmF0b3JUeXBlID0gZTtcclxuICAgIH1cclxuICAgIENvbnRhaW5lckl0ZXJhdG9yLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuQyA9PT0gZS5DO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBDb250YWluZXJJdGVyYXRvcjtcclxufSgpO1xyXG5cclxudmFyIEJhc2UgPSBmdW5jdGlvbigpIHtcclxuICAgIGZ1bmN0aW9uIEJhc2UoKSB7XHJcbiAgICAgICAgdGhpcy5fID0gMDtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShCYXNlLnByb3RvdHlwZSwgXCJsZW5ndGhcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl87XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgQmFzZS5wcm90b3R5cGUuc2l6ZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLl87XHJcbiAgICB9O1xyXG4gICAgQmFzZS5wcm90b3R5cGUuZW1wdHkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5fID09PSAwO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBCYXNlO1xyXG59KCk7XHJcblxyXG52YXIgQ29udGFpbmVyID0gZnVuY3Rpb24oZSkge1xyXG4gICAgX19leHRlbmRzKENvbnRhaW5lciwgZSk7XHJcbiAgICBmdW5jdGlvbiBDb250YWluZXIoKSB7XHJcbiAgICAgICAgcmV0dXJuIGUgIT09IG51bGwgJiYgZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gQ29udGFpbmVyO1xyXG59KEJhc2UpO1xyXG5cclxuZnVuY3Rpb24gdGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKCkge1xyXG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJdGVyYXRvciBhY2Nlc3MgZGVuaWVkIVwiKTtcclxufVxyXG5cclxudmFyIFRyZWVDb250YWluZXIgPSBmdW5jdGlvbihlKSB7XHJcbiAgICBfX2V4dGVuZHMoVHJlZUNvbnRhaW5lciwgZSk7XHJcbiAgICBmdW5jdGlvbiBUcmVlQ29udGFpbmVyKHIsIHQpIHtcclxuICAgICAgICBpZiAociA9PT0gdm9pZCAwKSB7XHJcbiAgICAgICAgICAgIHIgPSBmdW5jdGlvbihlLCByKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZSA8IHIpIHJldHVybiAtMTtcclxuICAgICAgICAgICAgICAgIGlmIChlID4gcikgcmV0dXJuIDE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHQgPT09IHZvaWQgMCkge1xyXG4gICAgICAgICAgICB0ID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpID0gZS5jYWxsKHRoaXMpIHx8IHRoaXM7XHJcbiAgICAgICAgaS5OID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIGkuZyA9IHI7XHJcbiAgICAgICAgaS5lbmFibGVJbmRleCA9IHQ7XHJcbiAgICAgICAgaS5TID0gdCA/IFRyZWVOb2RlRW5hYmxlSW5kZXggOiBUcmVlTm9kZTtcclxuICAgICAgICBpLkEgPSBuZXcgaS5TO1xyXG4gICAgICAgIHJldHVybiBpO1xyXG4gICAgfVxyXG4gICAgVHJlZUNvbnRhaW5lci5wcm90b3R5cGUubSA9IGZ1bmN0aW9uKGUsIHIpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXMuQTtcclxuICAgICAgICB3aGlsZSAoZSkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuZyhlLnUsIHIpO1xyXG4gICAgICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGUgPSBlLmk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaSA+IDApIHtcclxuICAgICAgICAgICAgICAgIHQgPSBlO1xyXG4gICAgICAgICAgICAgICAgZSA9IGUudDtcclxuICAgICAgICAgICAgfSBlbHNlIHJldHVybiBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5CID0gZnVuY3Rpb24oZSwgcikge1xyXG4gICAgICAgIHZhciB0ID0gdGhpcy5BO1xyXG4gICAgICAgIHdoaWxlIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5nKGUudSwgcik7XHJcbiAgICAgICAgICAgIGlmIChpIDw9IDApIHtcclxuICAgICAgICAgICAgICAgIGUgPSBlLmk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0ID0gZTtcclxuICAgICAgICAgICAgICAgIGUgPSBlLnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9O1xyXG4gICAgVHJlZUNvbnRhaW5lci5wcm90b3R5cGUuaiA9IGZ1bmN0aW9uKGUsIHIpIHtcclxuICAgICAgICB2YXIgdCA9IHRoaXMuQTtcclxuICAgICAgICB3aGlsZSAoZSkge1xyXG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMuZyhlLnUsIHIpO1xyXG4gICAgICAgICAgICBpZiAoaSA8IDApIHtcclxuICAgICAgICAgICAgICAgIHQgPSBlO1xyXG4gICAgICAgICAgICAgICAgZSA9IGUuaTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChpID4gMCkge1xyXG4gICAgICAgICAgICAgICAgZSA9IGUudDtcclxuICAgICAgICAgICAgfSBlbHNlIHJldHVybiBlO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5rID0gZnVuY3Rpb24oZSwgcikge1xyXG4gICAgICAgIHZhciB0ID0gdGhpcy5BO1xyXG4gICAgICAgIHdoaWxlIChlKSB7XHJcbiAgICAgICAgICAgIHZhciBpID0gdGhpcy5nKGUudSwgcik7XHJcbiAgICAgICAgICAgIGlmIChpIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgdCA9IGU7XHJcbiAgICAgICAgICAgICAgICBlID0gZS5pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgZSA9IGUudDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5SID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHZhciByID0gZS5oO1xyXG4gICAgICAgICAgICBpZiAociA9PT0gdGhpcy5BKSByZXR1cm47XHJcbiAgICAgICAgICAgIGlmIChlLmwgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgIGUubCA9IDA7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGUgPT09IHIudCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIHQgPSByLmk7XHJcbiAgICAgICAgICAgICAgICBpZiAodC5sID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5sID0gMDtcclxuICAgICAgICAgICAgICAgICAgICByLmwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyID09PSB0aGlzLk4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5OID0gci5UKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHIuVCgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodC5pICYmIHQuaS5sID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQubCA9IHIubDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgci5sID0gMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC5pLmwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAociA9PT0gdGhpcy5OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk4gPSByLlQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHIuVCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0LnQgJiYgdC50LmwgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC5sID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC50LmwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LkkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LmwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gcjtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdCA9IHIudDtcclxuICAgICAgICAgICAgICAgIGlmICh0LmwgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0LmwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIHIubCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHIgPT09IHRoaXMuTikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLk4gPSByLkkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugci5JKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0LnQgJiYgdC50LmwgPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdC5sID0gci5sO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByLmwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LnQubCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyID09PSB0aGlzLk4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTiA9IHIuSSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugci5JKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQuaSAmJiB0LmkubCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LmwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0LmkubCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuVCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQubCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUgPSByO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5HID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmICh0aGlzLl8gPT09IDEpIHtcclxuICAgICAgICAgICAgdGhpcy5jbGVhcigpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciByID0gZTtcclxuICAgICAgICB3aGlsZSAoci50IHx8IHIuaSkge1xyXG4gICAgICAgICAgICBpZiAoci5pKSB7XHJcbiAgICAgICAgICAgICAgICByID0gci5pO1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKHIudCkgciA9IHIudDtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHIgPSByLnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdmFyIHQgPSBlLnU7XHJcbiAgICAgICAgICAgIGUudSA9IHIudTtcclxuICAgICAgICAgICAgci51ID0gdDtcclxuICAgICAgICAgICAgdmFyIGkgPSBlLm87XHJcbiAgICAgICAgICAgIGUubyA9IHIubztcclxuICAgICAgICAgICAgci5vID0gaTtcclxuICAgICAgICAgICAgZSA9IHI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLkEudCA9PT0gcikge1xyXG4gICAgICAgICAgICB0aGlzLkEudCA9IHIuaDtcclxuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuQS5pID09PSByKSB7XHJcbiAgICAgICAgICAgIHRoaXMuQS5pID0gci5oO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLlIocik7XHJcbiAgICAgICAgdmFyIG4gPSByLmg7XHJcbiAgICAgICAgaWYgKHIgPT09IG4udCkge1xyXG4gICAgICAgICAgICBuLnQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSBlbHNlIG4uaSA9IHVuZGVmaW5lZDtcclxuICAgICAgICB0aGlzLl8gLT0gMTtcclxuICAgICAgICB0aGlzLk4ubCA9IDA7XHJcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlSW5kZXgpIHtcclxuICAgICAgICAgICAgd2hpbGUgKG4gIT09IHRoaXMuQSkge1xyXG4gICAgICAgICAgICAgICAgbi5PIC09IDE7XHJcbiAgICAgICAgICAgICAgICBuID0gbi5oO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLlAgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIHIgPSB0eXBlb2YgZSA9PT0gXCJudW1iZXJcIiA/IGUgOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIHQgPSB0eXBlb2YgZSA9PT0gXCJmdW5jdGlvblwiID8gZSA6IHVuZGVmaW5lZDtcclxuICAgICAgICB2YXIgaSA9IHR5cGVvZiBlID09PSBcInVuZGVmaW5lZFwiID8gW10gOiB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIG4gPSAwO1xyXG4gICAgICAgIHZhciBzID0gdGhpcy5OO1xyXG4gICAgICAgIHZhciBoID0gW107XHJcbiAgICAgICAgd2hpbGUgKGgubGVuZ3RoIHx8IHMpIHtcclxuICAgICAgICAgICAgaWYgKHMpIHtcclxuICAgICAgICAgICAgICAgIGgucHVzaChzKTtcclxuICAgICAgICAgICAgICAgIHMgPSBzLnQ7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzID0gaC5wb3AoKTtcclxuICAgICAgICAgICAgICAgIGlmIChuID09PSByKSByZXR1cm4gcztcclxuICAgICAgICAgICAgICAgIGkgJiYgaS5wdXNoKHMpO1xyXG4gICAgICAgICAgICAgICAgdCAmJiB0KHMsIG4sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgbiArPSAxO1xyXG4gICAgICAgICAgICAgICAgcyA9IHMuaTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaTtcclxuICAgIH07XHJcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5xID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XHJcbiAgICAgICAgICAgIHZhciByID0gZS5oO1xyXG4gICAgICAgICAgICBpZiAoci5sID09PSAwKSByZXR1cm47XHJcbiAgICAgICAgICAgIHZhciB0ID0gci5oO1xyXG4gICAgICAgICAgICBpZiAociA9PT0gdC50KSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgaSA9IHQuaTtcclxuICAgICAgICAgICAgICAgIGlmIChpICYmIGkubCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGkubCA9IHIubCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgPT09IHRoaXMuTikgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIHQubCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgZSA9IHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGUgPT09IHIuaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGUubCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLnQuaCA9IHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZS5pLmggPSB0O1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByLmkgPSBlLnQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdC50ID0gZS5pO1xyXG4gICAgICAgICAgICAgICAgICAgIGUudCA9IHI7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5pID0gdDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gdGhpcy5OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTiA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuQS5oID0gZTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbiA9IHQuaDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG4udCA9PT0gdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi50ID0gZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG4uaSA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGUuaCA9IHQuaDtcclxuICAgICAgICAgICAgICAgICAgICByLmggPSBlO1xyXG4gICAgICAgICAgICAgICAgICAgIHQuaCA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5sID0gMTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgci5sID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gdGhpcy5OKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuTiA9IHQuSSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB0LkkoKTtcclxuICAgICAgICAgICAgICAgICAgICB0LmwgPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gdC50O1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgJiYgaS5sID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaS5sID0gci5sID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodCA9PT0gdGhpcy5OKSByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgdC5sID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBlID0gdDtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZSA9PT0gci50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZS5sID0gMDtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZS50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGUudC5oID0gdDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuaSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlLmkuaCA9IHI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHQuaSA9IGUudDtcclxuICAgICAgICAgICAgICAgICAgICByLnQgPSBlLmk7XHJcbiAgICAgICAgICAgICAgICAgICAgZS50ID0gdDtcclxuICAgICAgICAgICAgICAgICAgICBlLmkgPSByO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSB0aGlzLk4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5OID0gZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5BLmggPSBlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBuID0gdC5oO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobi50ID09PSB0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnQgPSBlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugbi5pID0gZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZS5oID0gdC5oO1xyXG4gICAgICAgICAgICAgICAgICAgIHIuaCA9IGU7XHJcbiAgICAgICAgICAgICAgICAgICAgdC5oID0gZTtcclxuICAgICAgICAgICAgICAgICAgICB0LmwgPSAxO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByLmwgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSB0aGlzLk4pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5OID0gdC5UKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHQuVCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHQubCA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmVuYWJsZUluZGV4KSB7XHJcbiAgICAgICAgICAgICAgICByLk0oKTtcclxuICAgICAgICAgICAgICAgIHQuTSgpO1xyXG4gICAgICAgICAgICAgICAgZS5NKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5EID0gZnVuY3Rpb24oZSwgciwgdCkge1xyXG4gICAgICAgIGlmICh0aGlzLk4gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLl8gKz0gMTtcclxuICAgICAgICAgICAgdGhpcy5OID0gbmV3IHRoaXMuUyhlLCByLCAwKTtcclxuICAgICAgICAgICAgdGhpcy5OLmggPSB0aGlzLkE7XHJcbiAgICAgICAgICAgIHRoaXMuQS5oID0gdGhpcy5BLnQgPSB0aGlzLkEuaSA9IHRoaXMuTjtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuXztcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIGk7XHJcbiAgICAgICAgdmFyIG4gPSB0aGlzLkEudDtcclxuICAgICAgICB2YXIgcyA9IHRoaXMuZyhuLnUsIGUpO1xyXG4gICAgICAgIGlmIChzID09PSAwKSB7XHJcbiAgICAgICAgICAgIG4ubyA9IHI7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl87XHJcbiAgICAgICAgfSBlbHNlIGlmIChzID4gMCkge1xyXG4gICAgICAgICAgICBuLnQgPSBuZXcgdGhpcy5TKGUsIHIpO1xyXG4gICAgICAgICAgICBuLnQuaCA9IG47XHJcbiAgICAgICAgICAgIGkgPSBuLnQ7XHJcbiAgICAgICAgICAgIHRoaXMuQS50ID0gaTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgaCA9IHRoaXMuQS5pO1xyXG4gICAgICAgICAgICB2YXIgYSA9IHRoaXMuZyhoLnUsIGUpO1xyXG4gICAgICAgICAgICBpZiAoYSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgaC5vID0gcjtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl87XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYSA8IDApIHtcclxuICAgICAgICAgICAgICAgIGguaSA9IG5ldyB0aGlzLlMoZSwgcik7XHJcbiAgICAgICAgICAgICAgICBoLmkuaCA9IGg7XHJcbiAgICAgICAgICAgICAgICBpID0gaC5pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5BLmkgPSBpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKHQgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1ID0gdC5DO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1ICE9PSB0aGlzLkEpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGYgPSB0aGlzLmcodS51LCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGYgPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUubyA9IHI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGYgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbyA9IHUudigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGQgPSB0aGlzLmcoby51LCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgby5vID0gcjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBuZXcgdGhpcy5TKGUsIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvLmkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLmkgPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmggPSBvO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUudCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkuaCA9IHU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGkgPSB0aGlzLk47XHJcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSB0aGlzLmcoaS51LCBlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGMgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaS50ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLnQgPSBuZXcgdGhpcy5TKGUsIHIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkudC5oID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS50O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkudDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkuaSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaS5pID0gbmV3IHRoaXMuUyhlLCByKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLmkuaCA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGkuaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpLm8gPSByO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuXztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5lbmFibGVJbmRleCkge1xyXG4gICAgICAgICAgICB2YXIgbCA9IGkuaDtcclxuICAgICAgICAgICAgd2hpbGUgKGwgIT09IHRoaXMuQSkge1xyXG4gICAgICAgICAgICAgICAgbC5PICs9IDE7XHJcbiAgICAgICAgICAgICAgICBsID0gbC5oO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucShpKTtcclxuICAgICAgICB0aGlzLl8gKz0gMTtcclxuICAgICAgICByZXR1cm4gdGhpcy5fO1xyXG4gICAgfTtcclxuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLkYgPSBmdW5jdGlvbihlLCByKSB7XHJcbiAgICAgICAgd2hpbGUgKGUpIHtcclxuICAgICAgICAgICAgdmFyIHQgPSB0aGlzLmcoZS51LCByKTtcclxuICAgICAgICAgICAgaWYgKHQgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICBlID0gZS5pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICBlID0gZS50O1xyXG4gICAgICAgICAgICB9IGVsc2UgcmV0dXJuIGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBlIHx8IHRoaXMuQTtcclxuICAgIH07XHJcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHRoaXMuXyA9IDA7XHJcbiAgICAgICAgdGhpcy5OID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuQS5oID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHRoaXMuQS50ID0gdGhpcy5BLmkgPSB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgVHJlZUNvbnRhaW5lci5wcm90b3R5cGUudXBkYXRlS2V5QnlJdGVyYXRvciA9IGZ1bmN0aW9uKGUsIHIpIHtcclxuICAgICAgICB2YXIgdCA9IGUuQztcclxuICAgICAgICBpZiAodCA9PT0gdGhpcy5BKSB7XHJcbiAgICAgICAgICAgIHRocm93SXRlcmF0b3JBY2Nlc3NFcnJvcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5fID09PSAxKSB7XHJcbiAgICAgICAgICAgIHQudSA9IHI7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaSA9IHQucCgpLnU7XHJcbiAgICAgICAgaWYgKHQgPT09IHRoaXMuQS50KSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmcoaSwgcikgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICB0LnUgPSByO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbiA9IHQudigpLnU7XHJcbiAgICAgICAgaWYgKHQgPT09IHRoaXMuQS5pKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmcobiwgcikgPCAwKSB7XHJcbiAgICAgICAgICAgICAgICB0LnUgPSByO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodGhpcy5nKG4sIHIpID49IDAgfHwgdGhpcy5nKGksIHIpIDw9IDApIHJldHVybiBmYWxzZTtcclxuICAgICAgICB0LnUgPSByO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfTtcclxuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLmVyYXNlRWxlbWVudEJ5UG9zID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChlIDwgMCB8fCBlID4gdGhpcy5fIC0gMSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIHIgPSB0aGlzLlAoZSk7XHJcbiAgICAgICAgdGhpcy5HKHIpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl87XHJcbiAgICB9O1xyXG4gICAgVHJlZUNvbnRhaW5lci5wcm90b3R5cGUuZXJhc2VFbGVtZW50QnlLZXkgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuXyA9PT0gMCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHZhciByID0gdGhpcy5GKHRoaXMuTiwgZSk7XHJcbiAgICAgICAgaWYgKHIgPT09IHRoaXMuQSkgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIHRoaXMuRyhyKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH07XHJcbiAgICBUcmVlQ29udGFpbmVyLnByb3RvdHlwZS5lcmFzZUVsZW1lbnRCeUl0ZXJhdG9yID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciByID0gZS5DO1xyXG4gICAgICAgIGlmIChyID09PSB0aGlzLkEpIHtcclxuICAgICAgICAgICAgdGhyb3dJdGVyYXRvckFjY2Vzc0Vycm9yKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciB0ID0gci5pID09PSB1bmRlZmluZWQ7XHJcbiAgICAgICAgdmFyIGkgPSBlLml0ZXJhdG9yVHlwZSA9PT0gMDtcclxuICAgICAgICBpZiAoaSkge1xyXG4gICAgICAgICAgICBpZiAodCkgZS5uZXh0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgaWYgKCF0IHx8IHIudCA9PT0gdW5kZWZpbmVkKSBlLm5leHQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5HKHIpO1xyXG4gICAgICAgIHJldHVybiBlO1xyXG4gICAgfTtcclxuICAgIFRyZWVDb250YWluZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl8gPT09IDApIHJldHVybiAwO1xyXG4gICAgICAgIGZ1bmN0aW9uIHRyYXZlcnNhbChlKSB7XHJcbiAgICAgICAgICAgIGlmICghZSkgcmV0dXJuIDA7XHJcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh0cmF2ZXJzYWwoZS50KSwgdHJhdmVyc2FsKGUuaSkpICsgMTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRyYXZlcnNhbCh0aGlzLk4pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBUcmVlQ29udGFpbmVyO1xyXG59KENvbnRhaW5lcik7XHJcblxyXG52YXIgVHJlZUl0ZXJhdG9yID0gZnVuY3Rpb24oZSkge1xyXG4gICAgX19leHRlbmRzKFRyZWVJdGVyYXRvciwgZSk7XHJcbiAgICBmdW5jdGlvbiBUcmVlSXRlcmF0b3IociwgdCwgaSkge1xyXG4gICAgICAgIHZhciBuID0gZS5jYWxsKHRoaXMsIGkpIHx8IHRoaXM7XHJcbiAgICAgICAgbi5DID0gcjtcclxuICAgICAgICBuLkEgPSB0O1xyXG4gICAgICAgIGlmIChuLml0ZXJhdG9yVHlwZSA9PT0gMCkge1xyXG4gICAgICAgICAgICBuLnByZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuQyA9PT0gdGhpcy5BLnQpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuQyA9IHRoaXMuQy52KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbi5uZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5DID09PSB0aGlzLkEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuQyA9IHRoaXMuQy5wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBuLnByZSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuQyA9PT0gdGhpcy5BLmkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuQyA9IHRoaXMuQy5wKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgbi5uZXh0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5DID09PSB0aGlzLkEpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuQyA9IHRoaXMuQy52KCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG47XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoVHJlZUl0ZXJhdG9yLnByb3RvdHlwZSwgXCJpbmRleFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIGUgPSB0aGlzLkM7XHJcbiAgICAgICAgICAgIHZhciByID0gdGhpcy5BLmg7XHJcbiAgICAgICAgICAgIGlmIChlID09PSB0aGlzLkEpIHtcclxuICAgICAgICAgICAgICAgIGlmIChyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHIuTyAtIDE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgdCA9IDA7XHJcbiAgICAgICAgICAgIGlmIChlLnQpIHtcclxuICAgICAgICAgICAgICAgIHQgKz0gZS50Lk87XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgd2hpbGUgKGUgIT09IHIpIHtcclxuICAgICAgICAgICAgICAgIHZhciBpID0gZS5oO1xyXG4gICAgICAgICAgICAgICAgaWYgKGUgPT09IGkuaSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHQgKz0gMTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaS50KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHQgKz0gaS50Lk87XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZSA9IGk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgVHJlZUl0ZXJhdG9yLnByb3RvdHlwZS5pc0FjY2Vzc2libGUgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5DICE9PSB0aGlzLkE7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFRyZWVJdGVyYXRvcjtcclxufShDb250YWluZXJJdGVyYXRvcik7XHJcblxyXG52YXIgT3JkZXJlZE1hcEl0ZXJhdG9yID0gZnVuY3Rpb24oZSkge1xyXG4gICAgX19leHRlbmRzKE9yZGVyZWRNYXBJdGVyYXRvciwgZSk7XHJcbiAgICBmdW5jdGlvbiBPcmRlcmVkTWFwSXRlcmF0b3IociwgdCwgaSwgbikge1xyXG4gICAgICAgIHZhciBzID0gZS5jYWxsKHRoaXMsIHIsIHQsIG4pIHx8IHRoaXM7XHJcbiAgICAgICAgcy5jb250YWluZXIgPSBpO1xyXG4gICAgICAgIHJldHVybiBzO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE9yZGVyZWRNYXBJdGVyYXRvci5wcm90b3R5cGUsIFwicG9pbnRlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuQyA9PT0gdGhpcy5BKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvd0l0ZXJhdG9yQWNjZXNzRXJyb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgZSA9IHRoaXM7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkoW10sIHtcclxuICAgICAgICAgICAgICAgIGdldDogZnVuY3Rpb24ociwgdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ID09PSBcIjBcIikgcmV0dXJuIGUuQy51OyBlbHNlIGlmICh0ID09PSBcIjFcIikgcmV0dXJuIGUuQy5vO1xyXG4gICAgICAgICAgICAgICAgICAgIHJbMF0gPSBlLkMudTtcclxuICAgICAgICAgICAgICAgICAgICByWzFdID0gZS5DLm87XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJbdF07XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc2V0OiBmdW5jdGlvbihyLCB0LCBpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQgIT09IFwiMVwiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJwcm9wIG11c3QgYmUgMVwiKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZS5DLm8gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPcmRlcmVkTWFwSXRlcmF0b3IucHJvdG90eXBlLmNvcHkgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXBJdGVyYXRvcih0aGlzLkMsIHRoaXMuQSwgdGhpcy5jb250YWluZXIsIHRoaXMuaXRlcmF0b3JUeXBlKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gT3JkZXJlZE1hcEl0ZXJhdG9yO1xyXG59KFRyZWVJdGVyYXRvcik7XHJcblxyXG52YXIgT3JkZXJlZE1hcCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgIF9fZXh0ZW5kcyhPcmRlcmVkTWFwLCBlKTtcclxuICAgIGZ1bmN0aW9uIE9yZGVyZWRNYXAociwgdCwgaSkge1xyXG4gICAgICAgIGlmIChyID09PSB2b2lkIDApIHtcclxuICAgICAgICAgICAgciA9IFtdO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgbiA9IGUuY2FsbCh0aGlzLCB0LCBpKSB8fCB0aGlzO1xyXG4gICAgICAgIHZhciBzID0gbjtcclxuICAgICAgICByLmZvckVhY2goKGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgcy5zZXRFbGVtZW50KGVbMF0sIGVbMV0pO1xyXG4gICAgICAgIH0pKTtcclxuICAgICAgICByZXR1cm4gbjtcclxuICAgIH1cclxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLmJlZ2luID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwSXRlcmF0b3IodGhpcy5BLnQgfHwgdGhpcy5BLCB0aGlzLkEsIHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcEl0ZXJhdG9yKHRoaXMuQSwgdGhpcy5BLCB0aGlzKTtcclxuICAgIH07XHJcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5yQmVnaW4gPSBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXBJdGVyYXRvcih0aGlzLkEuaSB8fCB0aGlzLkEsIHRoaXMuQSwgdGhpcywgMSk7XHJcbiAgICB9O1xyXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuckVuZCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcEl0ZXJhdG9yKHRoaXMuQSwgdGhpcy5BLCB0aGlzLCAxKTtcclxuICAgIH07XHJcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5mcm9udCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl8gPT09IDApIHJldHVybjtcclxuICAgICAgICB2YXIgZSA9IHRoaXMuQS50O1xyXG4gICAgICAgIHJldHVybiBbIGUudSwgZS5vIF07XHJcbiAgICB9O1xyXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUuYmFjayA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICh0aGlzLl8gPT09IDApIHJldHVybjtcclxuICAgICAgICB2YXIgZSA9IHRoaXMuQS5pO1xyXG4gICAgICAgIHJldHVybiBbIGUudSwgZS5vIF07XHJcbiAgICB9O1xyXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUubG93ZXJCb3VuZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgciA9IHRoaXMubSh0aGlzLk4sIGUpO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcEl0ZXJhdG9yKHIsIHRoaXMuQSwgdGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUudXBwZXJCb3VuZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgciA9IHRoaXMuQih0aGlzLk4sIGUpO1xyXG4gICAgICAgIHJldHVybiBuZXcgT3JkZXJlZE1hcEl0ZXJhdG9yKHIsIHRoaXMuQSwgdGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUucmV2ZXJzZUxvd2VyQm91bmQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIHIgPSB0aGlzLmoodGhpcy5OLCBlKTtcclxuICAgICAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXBJdGVyYXRvcihyLCB0aGlzLkEsIHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnJldmVyc2VVcHBlckJvdW5kID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHZhciByID0gdGhpcy5rKHRoaXMuTiwgZSk7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPcmRlcmVkTWFwSXRlcmF0b3IociwgdGhpcy5BLCB0aGlzKTtcclxuICAgIH07XHJcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIHRoaXMuUCgoZnVuY3Rpb24ociwgdCwgaSkge1xyXG4gICAgICAgICAgICBlKFsgci51LCByLm8gXSwgdCwgaSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfTtcclxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLnNldEVsZW1lbnQgPSBmdW5jdGlvbihlLCByLCB0KSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRChlLCByLCB0KTtcclxuICAgIH07XHJcbiAgICBPcmRlcmVkTWFwLnByb3RvdHlwZS5nZXRFbGVtZW50QnlQb3MgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgaWYgKGUgPCAwIHx8IGUgPiB0aGlzLl8gLSAxKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgciA9IHRoaXMuUChlKTtcclxuICAgICAgICByZXR1cm4gWyByLnUsIHIubyBdO1xyXG4gICAgfTtcclxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIHIgPSB0aGlzLkYodGhpcy5OLCBlKTtcclxuICAgICAgICByZXR1cm4gbmV3IE9yZGVyZWRNYXBJdGVyYXRvcihyLCB0aGlzLkEsIHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9yZGVyZWRNYXAucHJvdG90eXBlLmdldEVsZW1lbnRCeUtleSA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICB2YXIgciA9IHRoaXMuRih0aGlzLk4sIGUpO1xyXG4gICAgICAgIHJldHVybiByLm87XHJcbiAgICB9O1xyXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGUudW5pb24gPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgdmFyIHIgPSB0aGlzO1xyXG4gICAgICAgIGUuZm9yRWFjaCgoZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICByLnNldEVsZW1lbnQoZVswXSwgZVsxXSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLl87XHJcbiAgICB9O1xyXG4gICAgT3JkZXJlZE1hcC5wcm90b3R5cGVbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIHZhciBlLCByLCB0LCBpO1xyXG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCAoZnVuY3Rpb24obikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKG4ubGFiZWwpIHtcclxuICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICBlID0gdGhpcy5fO1xyXG4gICAgICAgICAgICAgICAgciA9IHRoaXMuUCgpO1xyXG4gICAgICAgICAgICAgICAgdCA9IDA7XHJcbiAgICAgICAgICAgICAgICBuLmxhYmVsID0gMTtcclxuXHJcbiAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgaWYgKCEodCA8IGUpKSByZXR1cm4gWyAzLCA0IF07XHJcbiAgICAgICAgICAgICAgICBpID0gclt0XTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBbIDQsIFsgaS51LCBpLm8gXSBdO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICBuLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgIG4ubGFiZWwgPSAzO1xyXG5cclxuICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICArK3Q7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gWyAzLCAxIF07XHJcblxyXG4gICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgIHJldHVybiBbIDIgXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gT3JkZXJlZE1hcDtcclxufShUcmVlQ29udGFpbmVyKTtcclxuXHJcbmV4cG9ydCB7IE9yZGVyZWRNYXAgfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXHJcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/@js-sdsl/ordered-map/dist/esm/index.js\n");

/***/ })

};
;