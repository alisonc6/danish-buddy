"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/google-logging-utils";
exports.ids = ["vendor-chunks/google-logging-utils"];
exports.modules = {

/***/ "(rsc)/./node_modules/google-logging-utils/build/src/colours.js":
/*!****************************************************************!*\
  !*** ./node_modules/google-logging-utils/build/src/colours.js ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\n// Copyright 2024 Google LLC\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     https://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.Colours = void 0;\r\n/**\r\n * Handles figuring out if we can use ANSI colours and handing out the escape codes.\r\n *\r\n * This is for package-internal use only, and may change at any time.\r\n *\r\n * @private\r\n * @internal\r\n */\r\nclass Colours {\r\n    /**\r\n     * @param stream The stream (e.g. process.stderr)\r\n     * @returns true if the stream should have colourization enabled\r\n     */\r\n    static isEnabled(stream) {\r\n        return (stream && // May happen in browsers.\r\n            stream.isTTY &&\r\n            (typeof stream.getColorDepth === 'function'\r\n                ? stream.getColorDepth() > 2\r\n                : true));\r\n    }\r\n    static refresh() {\r\n        Colours.enabled = Colours.isEnabled(process === null || process === void 0 ? void 0 : process.stderr);\r\n        if (!this.enabled) {\r\n            Colours.reset = '';\r\n            Colours.bright = '';\r\n            Colours.dim = '';\r\n            Colours.red = '';\r\n            Colours.green = '';\r\n            Colours.yellow = '';\r\n            Colours.blue = '';\r\n            Colours.magenta = '';\r\n            Colours.cyan = '';\r\n            Colours.white = '';\r\n            Colours.grey = '';\r\n        }\r\n        else {\r\n            Colours.reset = '\\u001b[0m';\r\n            Colours.bright = '\\u001b[1m';\r\n            Colours.dim = '\\u001b[2m';\r\n            Colours.red = '\\u001b[31m';\r\n            Colours.green = '\\u001b[32m';\r\n            Colours.yellow = '\\u001b[33m';\r\n            Colours.blue = '\\u001b[34m';\r\n            Colours.magenta = '\\u001b[35m';\r\n            Colours.cyan = '\\u001b[36m';\r\n            Colours.white = '\\u001b[37m';\r\n            Colours.grey = '\\u001b[90m';\r\n        }\r\n    }\r\n}\r\nexports.Colours = Colours;\r\nColours.enabled = false;\r\nColours.reset = '';\r\nColours.bright = '';\r\nColours.dim = '';\r\nColours.red = '';\r\nColours.green = '';\r\nColours.yellow = '';\r\nColours.blue = '';\r\nColours.magenta = '';\r\nColours.cyan = '';\r\nColours.white = '';\r\nColours.grey = '';\r\nColours.refresh();\r\n//# sourceMappingURL=colours.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWxvZ2dpbmctdXRpbHMvYnVpbGQvc3JjL2NvbG91cnMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZGFuaXNoLWJ1ZGR5Ly4vbm9kZV9tb2R1bGVzL2dvb2dsZS1sb2dnaW5nLXV0aWxzL2J1aWxkL3NyYy9jb2xvdXJzLmpzPzAxMzEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XHJcbi8vIENvcHlyaWdodCAyMDI0IEdvb2dsZSBMTENcclxuLy9cclxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuLy8geW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuLy9cclxuLy8gICAgIGh0dHBzOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuLy9cclxuLy8gVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4vLyBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4vLyBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbi8vIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuQ29sb3VycyA9IHZvaWQgMDtcclxuLyoqXHJcbiAqIEhhbmRsZXMgZmlndXJpbmcgb3V0IGlmIHdlIGNhbiB1c2UgQU5TSSBjb2xvdXJzIGFuZCBoYW5kaW5nIG91dCB0aGUgZXNjYXBlIGNvZGVzLlxyXG4gKlxyXG4gKiBUaGlzIGlzIGZvciBwYWNrYWdlLWludGVybmFsIHVzZSBvbmx5LCBhbmQgbWF5IGNoYW5nZSBhdCBhbnkgdGltZS5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jbGFzcyBDb2xvdXJzIHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIHN0cmVhbSBUaGUgc3RyZWFtIChlLmcuIHByb2Nlc3Muc3RkZXJyKVxyXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgc3RyZWFtIHNob3VsZCBoYXZlIGNvbG91cml6YXRpb24gZW5hYmxlZFxyXG4gICAgICovXHJcbiAgICBzdGF0aWMgaXNFbmFibGVkKHN0cmVhbSkge1xyXG4gICAgICAgIHJldHVybiAoc3RyZWFtICYmIC8vIE1heSBoYXBwZW4gaW4gYnJvd3NlcnMuXHJcbiAgICAgICAgICAgIHN0cmVhbS5pc1RUWSAmJlxyXG4gICAgICAgICAgICAodHlwZW9mIHN0cmVhbS5nZXRDb2xvckRlcHRoID09PSAnZnVuY3Rpb24nXHJcbiAgICAgICAgICAgICAgICA/IHN0cmVhbS5nZXRDb2xvckRlcHRoKCkgPiAyXHJcbiAgICAgICAgICAgICAgICA6IHRydWUpKTtcclxuICAgIH1cclxuICAgIHN0YXRpYyByZWZyZXNoKCkge1xyXG4gICAgICAgIENvbG91cnMuZW5hYmxlZCA9IENvbG91cnMuaXNFbmFibGVkKHByb2Nlc3MgPT09IG51bGwgfHwgcHJvY2VzcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvY2Vzcy5zdGRlcnIpO1xyXG4gICAgICAgIGlmICghdGhpcy5lbmFibGVkKSB7XHJcbiAgICAgICAgICAgIENvbG91cnMucmVzZXQgPSAnJztcclxuICAgICAgICAgICAgQ29sb3Vycy5icmlnaHQgPSAnJztcclxuICAgICAgICAgICAgQ29sb3Vycy5kaW0gPSAnJztcclxuICAgICAgICAgICAgQ29sb3Vycy5yZWQgPSAnJztcclxuICAgICAgICAgICAgQ29sb3Vycy5ncmVlbiA9ICcnO1xyXG4gICAgICAgICAgICBDb2xvdXJzLnllbGxvdyA9ICcnO1xyXG4gICAgICAgICAgICBDb2xvdXJzLmJsdWUgPSAnJztcclxuICAgICAgICAgICAgQ29sb3Vycy5tYWdlbnRhID0gJyc7XHJcbiAgICAgICAgICAgIENvbG91cnMuY3lhbiA9ICcnO1xyXG4gICAgICAgICAgICBDb2xvdXJzLndoaXRlID0gJyc7XHJcbiAgICAgICAgICAgIENvbG91cnMuZ3JleSA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgQ29sb3Vycy5yZXNldCA9ICdcXHUwMDFiWzBtJztcclxuICAgICAgICAgICAgQ29sb3Vycy5icmlnaHQgPSAnXFx1MDAxYlsxbSc7XHJcbiAgICAgICAgICAgIENvbG91cnMuZGltID0gJ1xcdTAwMWJbMm0nO1xyXG4gICAgICAgICAgICBDb2xvdXJzLnJlZCA9ICdcXHUwMDFiWzMxbSc7XHJcbiAgICAgICAgICAgIENvbG91cnMuZ3JlZW4gPSAnXFx1MDAxYlszMm0nO1xyXG4gICAgICAgICAgICBDb2xvdXJzLnllbGxvdyA9ICdcXHUwMDFiWzMzbSc7XHJcbiAgICAgICAgICAgIENvbG91cnMuYmx1ZSA9ICdcXHUwMDFiWzM0bSc7XHJcbiAgICAgICAgICAgIENvbG91cnMubWFnZW50YSA9ICdcXHUwMDFiWzM1bSc7XHJcbiAgICAgICAgICAgIENvbG91cnMuY3lhbiA9ICdcXHUwMDFiWzM2bSc7XHJcbiAgICAgICAgICAgIENvbG91cnMud2hpdGUgPSAnXFx1MDAxYlszN20nO1xyXG4gICAgICAgICAgICBDb2xvdXJzLmdyZXkgPSAnXFx1MDAxYls5MG0nO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5leHBvcnRzLkNvbG91cnMgPSBDb2xvdXJzO1xyXG5Db2xvdXJzLmVuYWJsZWQgPSBmYWxzZTtcclxuQ29sb3Vycy5yZXNldCA9ICcnO1xyXG5Db2xvdXJzLmJyaWdodCA9ICcnO1xyXG5Db2xvdXJzLmRpbSA9ICcnO1xyXG5Db2xvdXJzLnJlZCA9ICcnO1xyXG5Db2xvdXJzLmdyZWVuID0gJyc7XHJcbkNvbG91cnMueWVsbG93ID0gJyc7XHJcbkNvbG91cnMuYmx1ZSA9ICcnO1xyXG5Db2xvdXJzLm1hZ2VudGEgPSAnJztcclxuQ29sb3Vycy5jeWFuID0gJyc7XHJcbkNvbG91cnMud2hpdGUgPSAnJztcclxuQ29sb3Vycy5ncmV5ID0gJyc7XHJcbkNvbG91cnMucmVmcmVzaCgpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2xvdXJzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-logging-utils/build/src/colours.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-logging-utils/build/src/index.js":
/*!**************************************************************!*\
  !*** ./node_modules/google-logging-utils/build/src/index.js ***!
  \**************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\n// Copyright 2024 Google LLC\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     https://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\n__exportStar(__webpack_require__(/*! ./logging-utils */ \"(rsc)/./node_modules/google-logging-utils/build/src/logging-utils.js\"), exports);\r\n//# sourceMappingURL=index.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWxvZ2dpbmctdXRpbHMvYnVpbGQvc3JjL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0NBQW9DO0FBQ25EO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSw4Q0FBNkMsRUFBRSxhQUFhLEVBQUM7QUFDN0QsYUFBYSxtQkFBTyxDQUFDLDZGQUFpQjtBQUN0QyIsInNvdXJjZXMiOlsid2VicGFjazovL2RhbmlzaC1idWRkeS8uL25vZGVfbW9kdWxlcy9nb29nbGUtbG9nZ2luZy11dGlscy9idWlsZC9zcmMvaW5kZXguanM/MWYyZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuLy8gQ29weXJpZ2h0IDIwMjQgR29vZ2xlIExMQ1xyXG4vL1xyXG4vLyBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbi8vIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4vL1xyXG4vLyAgICAgaHR0cHM6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4vL1xyXG4vLyBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuLy8gV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbi8vIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbnZhciBfX2NyZWF0ZUJpbmRpbmcgPSAodGhpcyAmJiB0aGlzLl9fY3JlYXRlQmluZGluZykgfHwgKE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pKTtcclxudmFyIF9fZXhwb3J0U3RhciA9ICh0aGlzICYmIHRoaXMuX19leHBvcnRTdGFyKSB8fCBmdW5jdGlvbihtLCBleHBvcnRzKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGV4cG9ydHMsIHApKSBfX2NyZWF0ZUJpbmRpbmcoZXhwb3J0cywgbSwgcCk7XHJcbn07XHJcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcclxuX19leHBvcnRTdGFyKHJlcXVpcmUoXCIuL2xvZ2dpbmctdXRpbHNcIiksIGV4cG9ydHMpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-logging-utils/build/src/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/google-logging-utils/build/src/logging-utils.js":
/*!**********************************************************************!*\
  !*** ./node_modules/google-logging-utils/build/src/logging-utils.js ***!
  \**********************************************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\n// Copyright 2021-2024 Google LLC\r\n//\r\n// Licensed under the Apache License, Version 2.0 (the \"License\");\r\n// you may not use this file except in compliance with the License.\r\n// You may obtain a copy of the License at\r\n//\r\n//     https://www.apache.org/licenses/LICENSE-2.0\r\n//\r\n// Unless required by applicable law or agreed to in writing, software\r\n// distributed under the License is distributed on an \"AS IS\" BASIS,\r\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n// See the License for the specific language governing permissions and\r\n// limitations under the License.\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || (function () {\r\n    var ownKeys = function(o) {\r\n        ownKeys = Object.getOwnPropertyNames || function (o) {\r\n            var ar = [];\r\n            for (var k in o) if (Object.prototype.hasOwnProperty.call(o, k)) ar[ar.length] = k;\r\n            return ar;\r\n        };\r\n        return ownKeys(o);\r\n    };\r\n    return function (mod) {\r\n        if (mod && mod.__esModule) return mod;\r\n        var result = {};\r\n        if (mod != null) for (var k = ownKeys(mod), i = 0; i < k.length; i++) if (k[i] !== \"default\") __createBinding(result, mod, k[i]);\r\n        __setModuleDefault(result, mod);\r\n        return result;\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.env = exports.DebugLogBackendBase = exports.placeholder = exports.AdhocDebugLogger = exports.LogSeverity = void 0;\r\nexports.getNodeBackend = getNodeBackend;\r\nexports.getDebugBackend = getDebugBackend;\r\nexports.getStructuredBackend = getStructuredBackend;\r\nexports.setBackend = setBackend;\r\nexports.log = log;\r\nconst events_1 = __webpack_require__(/*! events */ \"events\");\r\nconst process = __importStar(__webpack_require__(/*! process */ \"process\"));\r\nconst util = __importStar(__webpack_require__(/*! util */ \"util\"));\r\nconst colours_1 = __webpack_require__(/*! ./colours */ \"(rsc)/./node_modules/google-logging-utils/build/src/colours.js\");\r\n// Some functions (as noted) are based on the Node standard library, from\r\n// the following file:\r\n//\r\n// https://github.com/nodejs/node/blob/main/lib/internal/util/debuglog.js\r\n/**\r\n * This module defines an ad-hoc debug logger for Google Cloud Platform\r\n * client libraries in Node. An ad-hoc debug logger is a tool which lets\r\n * users use an external, unified interface (in this case, environment\r\n * variables) to determine what logging they want to see at runtime. This\r\n * isn't necessarily fed into the console, but is meant to be under the\r\n * control of the user. The kind of logging that will be produced by this\r\n * is more like \"call retry happened\", not \"events you'd want to record\r\n * in Cloud Logger\".\r\n *\r\n * More for Googlers implementing libraries with it:\r\n * go/cloud-client-logging-design\r\n */\r\n/**\r\n * Possible log levels. These are a subset of Cloud Observability levels.\r\n * https://cloud.google.com/logging/docs/reference/v2/rest/v2/LogEntry#LogSeverity\r\n */\r\nvar LogSeverity;\r\n(function (LogSeverity) {\r\n    LogSeverity[\"DEFAULT\"] = \"DEFAULT\";\r\n    LogSeverity[\"DEBUG\"] = \"DEBUG\";\r\n    LogSeverity[\"INFO\"] = \"INFO\";\r\n    LogSeverity[\"WARNING\"] = \"WARNING\";\r\n    LogSeverity[\"ERROR\"] = \"ERROR\";\r\n})(LogSeverity || (exports.LogSeverity = LogSeverity = {}));\r\n/**\r\n * Our logger instance. This actually contains the meat of dealing\r\n * with log lines, including EventEmitter. This contains the function\r\n * that will be passed back to users of the package.\r\n */\r\nclass AdhocDebugLogger extends events_1.EventEmitter {\r\n    /**\r\n     * @param upstream The backend will pass a function that will be\r\n     *   called whenever our logger function is invoked.\r\n     */\r\n    constructor(namespace, upstream) {\r\n        super();\r\n        this.namespace = namespace;\r\n        this.upstream = upstream;\r\n        this.func = Object.assign(this.invoke.bind(this), {\r\n            // Also add an instance pointer back to us.\r\n            instance: this,\r\n            // And pull over the EventEmitter functionality.\r\n            on: (event, listener) => this.on(event, listener),\r\n        });\r\n        // Convenience methods for log levels.\r\n        this.func.debug = (...args) => this.invokeSeverity(LogSeverity.DEBUG, ...args);\r\n        this.func.info = (...args) => this.invokeSeverity(LogSeverity.INFO, ...args);\r\n        this.func.warn = (...args) => this.invokeSeverity(LogSeverity.WARNING, ...args);\r\n        this.func.error = (...args) => this.invokeSeverity(LogSeverity.ERROR, ...args);\r\n        this.func.sublog = (namespace) => log(namespace, this.func);\r\n    }\r\n    invoke(fields, ...args) {\r\n        // Push out any upstream logger first.\r\n        if (this.upstream) {\r\n            try {\r\n                this.upstream(fields, ...args);\r\n            }\r\n            catch (e) {\r\n                // Swallow exceptions to avoid interfering with other logging.\r\n            }\r\n        }\r\n        // Emit sink events.\r\n        try {\r\n            this.emit('log', fields, args);\r\n        }\r\n        catch (e) {\r\n            // Swallow exceptions to avoid interfering with other logging.\r\n        }\r\n    }\r\n    invokeSeverity(severity, ...args) {\r\n        this.invoke({ severity }, ...args);\r\n    }\r\n}\r\nexports.AdhocDebugLogger = AdhocDebugLogger;\r\n/**\r\n * This can be used in place of a real logger while waiting for Promises or disabling logging.\r\n */\r\nexports.placeholder = new AdhocDebugLogger('', () => { }).func;\r\n/**\r\n * The base class for debug logging backends. It's possible to use this, but the\r\n * same non-guarantees above still apply (unstable interface, etc).\r\n *\r\n * @private\r\n * @internal\r\n */\r\nclass DebugLogBackendBase {\r\n    constructor() {\r\n        var _a;\r\n        this.cached = new Map();\r\n        this.filters = [];\r\n        this.filtersSet = false;\r\n        // Look for the Node config variable for what systems to enable. We'll store\r\n        // these for the log method below, which will call setFilters() once.\r\n        let nodeFlag = (_a = process.env[exports.env.nodeEnables]) !== null && _a !== void 0 ? _a : '*';\r\n        if (nodeFlag === 'all') {\r\n            nodeFlag = '*';\r\n        }\r\n        this.filters = nodeFlag.split(',');\r\n    }\r\n    log(namespace, fields, ...args) {\r\n        try {\r\n            if (!this.filtersSet) {\r\n                this.setFilters();\r\n                this.filtersSet = true;\r\n            }\r\n            let logger = this.cached.get(namespace);\r\n            if (!logger) {\r\n                logger = this.makeLogger(namespace);\r\n                this.cached.set(namespace, logger);\r\n            }\r\n            logger(fields, ...args);\r\n        }\r\n        catch (e) {\r\n            // Silently ignore all errors; we don't want them to interfere with\r\n            // the user's running app.\r\n            // e;\r\n            console.error(e);\r\n        }\r\n    }\r\n}\r\nexports.DebugLogBackendBase = DebugLogBackendBase;\r\n// The basic backend. This one definitely works, but it's less feature-filled.\r\n//\r\n// Rather than using util.debuglog, this implements the same basic logic directly.\r\n// The reason for this decision is that debuglog checks the value of the\r\n// NODE_DEBUG environment variable before any user code runs; we therefore\r\n// can't pipe our own enables into it (and util.debuglog will never print unless\r\n// the user duplicates it into NODE_DEBUG, which isn't reasonable).\r\n//\r\nclass NodeBackend extends DebugLogBackendBase {\r\n    constructor() {\r\n        super(...arguments);\r\n        // Default to allowing all systems, since we gate earlier based on whether the\r\n        // variable is empty.\r\n        this.enabledRegexp = /.*/g;\r\n    }\r\n    isEnabled(namespace) {\r\n        return this.enabledRegexp.test(namespace);\r\n    }\r\n    makeLogger(namespace) {\r\n        if (!this.enabledRegexp.test(namespace)) {\r\n            return () => { };\r\n        }\r\n        return (fields, ...args) => {\r\n            var _a;\r\n            // TODO: `fields` needs to be turned into a string here, one way or another.\r\n            const nscolour = `${colours_1.Colours.green}${namespace}${colours_1.Colours.reset}`;\r\n            const pid = `${colours_1.Colours.yellow}${process.pid}${colours_1.Colours.reset}`;\r\n            let level;\r\n            switch (fields.severity) {\r\n                case LogSeverity.ERROR:\r\n                    level = `${colours_1.Colours.red}${fields.severity}${colours_1.Colours.reset}`;\r\n                    break;\r\n                case LogSeverity.INFO:\r\n                    level = `${colours_1.Colours.magenta}${fields.severity}${colours_1.Colours.reset}`;\r\n                    break;\r\n                case LogSeverity.WARNING:\r\n                    level = `${colours_1.Colours.yellow}${fields.severity}${colours_1.Colours.reset}`;\r\n                    break;\r\n                default:\r\n                    level = (_a = fields.severity) !== null && _a !== void 0 ? _a : LogSeverity.DEFAULT;\r\n                    break;\r\n            }\r\n            const msg = util.formatWithOptions({ colors: colours_1.Colours.enabled }, ...args);\r\n            const filteredFields = Object.assign({}, fields);\r\n            delete filteredFields.severity;\r\n            const fieldsJson = Object.getOwnPropertyNames(filteredFields).length\r\n                ? JSON.stringify(filteredFields)\r\n                : '';\r\n            const fieldsColour = fieldsJson\r\n                ? `${colours_1.Colours.grey}${fieldsJson}${colours_1.Colours.reset}`\r\n                : '';\r\n            console.error('%s [%s|%s] %s%s', pid, nscolour, level, msg, fieldsJson ? ` ${fieldsColour}` : '');\r\n        };\r\n    }\r\n    // Regexp patterns below are from here:\r\n    // https://github.com/nodejs/node/blob/c0aebed4b3395bd65d54b18d1fd00f071002ac20/lib/internal/util/debuglog.js#L36\r\n    setFilters() {\r\n        const totalFilters = this.filters.join(',');\r\n        const regexp = totalFilters\r\n            .replace(/[|\\\\{}()[\\]^$+?.]/g, '\\\\$&')\r\n            .replace(/\\*/g, '.*')\r\n            .replace(/,/g, '$|^');\r\n        this.enabledRegexp = new RegExp(`^${regexp}$`, 'i');\r\n    }\r\n}\r\n/**\r\n * @returns A backend based on Node util.debuglog; this is the default.\r\n */\r\nfunction getNodeBackend() {\r\n    return new NodeBackend();\r\n}\r\nclass DebugBackend extends DebugLogBackendBase {\r\n    constructor(pkg) {\r\n        super();\r\n        this.debugPkg = pkg;\r\n    }\r\n    makeLogger(namespace) {\r\n        const debugLogger = this.debugPkg(namespace);\r\n        return (fields, ...args) => {\r\n            // TODO: `fields` needs to be turned into a string here.\r\n            debugLogger(args[0], ...args.slice(1));\r\n        };\r\n    }\r\n    setFilters() {\r\n        var _a;\r\n        const existingFilters = (_a = process.env['NODE_DEBUG']) !== null && _a !== void 0 ? _a : '';\r\n        process.env['NODE_DEBUG'] = `${existingFilters}${existingFilters ? ',' : ''}${this.filters.join(',')}`;\r\n    }\r\n}\r\n/**\r\n * Creates a \"debug\" package backend. The user must call require('debug') and pass\r\n * the resulting object to this function.\r\n *\r\n * ```\r\n *  setBackend(getDebugBackend(require('debug')))\r\n * ```\r\n *\r\n * https://www.npmjs.com/package/debug\r\n *\r\n * Note: Google does not explicitly endorse or recommend this package; it's just\r\n * being provided as an option.\r\n *\r\n * @returns A backend based on the npm \"debug\" package.\r\n */\r\nfunction getDebugBackend(debugPkg) {\r\n    return new DebugBackend(debugPkg);\r\n}\r\n/**\r\n * This pretty much works like the Node logger, but it outputs structured\r\n * logging JSON matching Google Cloud's ingestion specs. Rather than handling\r\n * its own output, it wraps another backend. The passed backend must be a subclass\r\n * of `DebugLogBackendBase` (any of the backends exposed by this package will work).\r\n */\r\nclass StructuredBackend extends DebugLogBackendBase {\r\n    constructor(upstream) {\r\n        var _a;\r\n        super();\r\n        this.upstream = (_a = upstream) !== null && _a !== void 0 ? _a : undefined;\r\n    }\r\n    makeLogger(namespace) {\r\n        var _a;\r\n        const debugLogger = (_a = this.upstream) === null || _a === void 0 ? void 0 : _a.makeLogger(namespace);\r\n        return (fields, ...args) => {\r\n            var _a;\r\n            const severity = (_a = fields.severity) !== null && _a !== void 0 ? _a : LogSeverity.INFO;\r\n            const json = Object.assign({\r\n                severity,\r\n                message: util.format(...args),\r\n            }, fields);\r\n            const jsonString = JSON.stringify(json);\r\n            if (debugLogger) {\r\n                debugLogger(fields, jsonString);\r\n            }\r\n            else {\r\n                console.log('%s', jsonString);\r\n            }\r\n        };\r\n    }\r\n    setFilters() {\r\n        var _a;\r\n        (_a = this.upstream) === null || _a === void 0 ? void 0 : _a.setFilters();\r\n    }\r\n}\r\n/**\r\n * Creates a \"structured logging\" backend. This pretty much works like the\r\n * Node logger, but it outputs structured logging JSON matching Google\r\n * Cloud's ingestion specs instead of plain text.\r\n *\r\n * ```\r\n *  setBackend(getStructuredBackend())\r\n * ```\r\n *\r\n * @param upstream If you want to use something besides the Node backend to\r\n *   write the actual log lines into, pass that here.\r\n * @returns A backend based on Google Cloud structured logging.\r\n */\r\nfunction getStructuredBackend(upstream) {\r\n    return new StructuredBackend(upstream);\r\n}\r\n/**\r\n * The environment variables that we standardized on, for all ad-hoc logging.\r\n */\r\nexports.env = {\r\n    /**\r\n     * Filter wildcards specific to the Node syntax, and similar to the built-in\r\n     * utils.debuglog() environment variable. If missing, disables logging.\r\n     */\r\n    nodeEnables: 'GOOGLE_SDK_NODE_LOGGING',\r\n};\r\n// Keep a copy of all namespaced loggers so users can reliably .on() them.\r\n// Note that these cached functions will need to deal with changes in the backend.\r\nconst loggerCache = new Map();\r\n// Our current global backend. This might be:\r\nlet cachedBackend = undefined;\r\n/**\r\n * Set the backend to use for our log output.\r\n * - A backend object\r\n * - null to disable logging\r\n * - undefined for \"nothing yet\", defaults to the Node backend\r\n *\r\n * @param backend Results from one of the get*Backend() functions.\r\n */\r\nfunction setBackend(backend) {\r\n    cachedBackend = backend;\r\n    loggerCache.clear();\r\n}\r\n/**\r\n * Creates a logging function. Multiple calls to this with the same namespace\r\n * will produce the same logger, with the same event emitter hooks.\r\n *\r\n * Namespaces can be a simple string (\"system\" name), or a qualified string\r\n * (system:subsystem), which can be used for filtering, or for \"system:*\".\r\n *\r\n * @param namespace The namespace, a descriptive text string.\r\n * @returns A function you can call that works similar to console.log().\r\n */\r\nfunction log(namespace, parent) {\r\n    // If the enable environment variable isn't set, do nothing. The user\r\n    // can still choose to set a backend of their choice using the manual\r\n    // `setBackend()`.\r\n    if (!cachedBackend) {\r\n        const enablesFlag = process.env[exports.env.nodeEnables];\r\n        if (!enablesFlag) {\r\n            return exports.placeholder;\r\n        }\r\n    }\r\n    // This might happen mostly if the typings are dropped in a user's code,\r\n    // or if they're calling from JavaScript.\r\n    if (!namespace) {\r\n        return exports.placeholder;\r\n    }\r\n    // Handle sub-loggers.\r\n    if (parent) {\r\n        namespace = `${parent.instance.namespace}:${namespace}`;\r\n    }\r\n    // Reuse loggers so things like event sinks are persistent.\r\n    const existing = loggerCache.get(namespace);\r\n    if (existing) {\r\n        return existing.func;\r\n    }\r\n    // Do we have a backend yet?\r\n    if (cachedBackend === null) {\r\n        // Explicitly disabled.\r\n        return exports.placeholder;\r\n    }\r\n    else if (cachedBackend === undefined) {\r\n        // One hasn't been made yet, so default to Node.\r\n        cachedBackend = getNodeBackend();\r\n    }\r\n    // The logger is further wrapped so we can handle the backend changing out.\r\n    const logger = (() => {\r\n        let previousBackend = undefined;\r\n        const newLogger = new AdhocDebugLogger(namespace, (fields, ...args) => {\r\n            if (previousBackend !== cachedBackend) {\r\n                // Did the user pass a custom backend?\r\n                if (cachedBackend === null) {\r\n                    // Explicitly disabled.\r\n                    return;\r\n                }\r\n                else if (cachedBackend === undefined) {\r\n                    // One hasn't been made yet, so default to Node.\r\n                    cachedBackend = getNodeBackend();\r\n                }\r\n                previousBackend = cachedBackend;\r\n            }\r\n            cachedBackend === null || cachedBackend === void 0 ? void 0 : cachedBackend.log(namespace, fields, ...args);\r\n        });\r\n        return newLogger;\r\n    })();\r\n    loggerCache.set(namespace, logger);\r\n    return logger.func;\r\n}\r\n//# sourceMappingURL=logging-utils.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWxvZ2dpbmctdXRpbHMvYnVpbGQvc3JjL2xvZ2dpbmctdXRpbHMuanMiLCJtYXBwaW5ncyI6IkFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQ0FBb0M7QUFDbkQ7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsMENBQTBDLDRCQUE0QjtBQUN0RSxDQUFDO0FBQ0Q7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkRBQTJELGNBQWM7QUFDekU7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELDhDQUE2QyxFQUFFLGFBQWEsRUFBQztBQUM3RCxXQUFXLEdBQUcsMkJBQTJCLEdBQUcsbUJBQW1CLEdBQUcsd0JBQXdCLEdBQUcsbUJBQW1CO0FBQ2hILHNCQUFzQjtBQUN0Qix1QkFBdUI7QUFDdkIsNEJBQTRCO0FBQzVCLGtCQUFrQjtBQUNsQixXQUFXO0FBQ1gsaUJBQWlCLG1CQUFPLENBQUMsc0JBQVE7QUFDakMsNkJBQTZCLG1CQUFPLENBQUMsd0JBQVM7QUFDOUMsMEJBQTBCLG1CQUFPLENBQUMsa0JBQU07QUFDeEMsa0JBQWtCLG1CQUFPLENBQUMsaUZBQVc7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLGtCQUFrQixtQkFBbUIsbUJBQW1CO0FBQ3pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IsVUFBVTtBQUNoQztBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxQ0FBcUM7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4REFBOEQ7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyx3QkFBd0IsRUFBRSxVQUFVLEVBQUUsd0JBQXdCO0FBQzlGLDJCQUEyQix5QkFBeUIsRUFBRSxZQUFZLEVBQUUsd0JBQXdCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLCtCQUErQixzQkFBc0IsRUFBRSxnQkFBZ0IsRUFBRSx3QkFBd0I7QUFDakc7QUFDQTtBQUNBLCtCQUErQiwwQkFBMEIsRUFBRSxnQkFBZ0IsRUFBRSx3QkFBd0I7QUFDckc7QUFDQTtBQUNBLCtCQUErQix5QkFBeUIsRUFBRSxnQkFBZ0IsRUFBRSx3QkFBd0I7QUFDcEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxtQ0FBbUM7QUFDcEYsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsdUJBQXVCLEVBQUUsV0FBVyxFQUFFLHdCQUF3QjtBQUNuRjtBQUNBLHlGQUF5RixhQUFhO0FBQ3RHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQSw0Q0FBNEMsT0FBTztBQUNuRDtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1Q0FBdUMsZ0JBQWdCLEVBQUUsMkJBQTJCLEVBQUUsdUJBQXVCO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RTtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVCQUF1QiwwQkFBMEIsR0FBRyxVQUFVO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kYW5pc2gtYnVkZHkvLi9ub2RlX21vZHVsZXMvZ29vZ2xlLWxvZ2dpbmctdXRpbHMvYnVpbGQvc3JjL2xvZ2dpbmctdXRpbHMuanM/OTY4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcclxuLy8gQ29weXJpZ2h0IDIwMjEtMjAyNCBHb29nbGUgTExDXHJcbi8vXHJcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbi8vIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuLy8gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbi8vXHJcbi8vICAgICBodHRwczovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbi8vXHJcbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuLy8gZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4vLyBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4vLyBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxudmFyIF9fY3JlYXRlQmluZGluZyA9ICh0aGlzICYmIHRoaXMuX19jcmVhdGVCaW5kaW5nKSB8fCAoT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcclxuICAgIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XHJcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSkpO1xyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gKHRoaXMgJiYgdGhpcy5fX3NldE1vZHVsZURlZmF1bHQpIHx8IChPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcclxufSkgOiBmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBvW1wiZGVmYXVsdFwiXSA9IHY7XHJcbn0pO1xyXG52YXIgX19pbXBvcnRTdGFyID0gKHRoaXMgJiYgdGhpcy5fX2ltcG9ydFN0YXIpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgb3duS2V5cyA9IGZ1bmN0aW9uKG8pIHtcclxuICAgICAgICBvd25LZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMgfHwgZnVuY3Rpb24gKG8pIHtcclxuICAgICAgICAgICAgdmFyIGFyID0gW107XHJcbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gbykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBrKSkgYXJbYXIubGVuZ3RoXSA9IGs7XHJcbiAgICAgICAgICAgIHJldHVybiBhcjtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiBvd25LZXlzKG8pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAobW9kKSB7XHJcbiAgICAgICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgICAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICAgICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrID0gb3duS2V5cyhtb2QpLCBpID0gMDsgaSA8IGsubGVuZ3RoOyBpKyspIGlmIChrW2ldICE9PSBcImRlZmF1bHRcIikgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrW2ldKTtcclxuICAgICAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmV4cG9ydHMuZW52ID0gZXhwb3J0cy5EZWJ1Z0xvZ0JhY2tlbmRCYXNlID0gZXhwb3J0cy5wbGFjZWhvbGRlciA9IGV4cG9ydHMuQWRob2NEZWJ1Z0xvZ2dlciA9IGV4cG9ydHMuTG9nU2V2ZXJpdHkgPSB2b2lkIDA7XHJcbmV4cG9ydHMuZ2V0Tm9kZUJhY2tlbmQgPSBnZXROb2RlQmFja2VuZDtcclxuZXhwb3J0cy5nZXREZWJ1Z0JhY2tlbmQgPSBnZXREZWJ1Z0JhY2tlbmQ7XHJcbmV4cG9ydHMuZ2V0U3RydWN0dXJlZEJhY2tlbmQgPSBnZXRTdHJ1Y3R1cmVkQmFja2VuZDtcclxuZXhwb3J0cy5zZXRCYWNrZW5kID0gc2V0QmFja2VuZDtcclxuZXhwb3J0cy5sb2cgPSBsb2c7XHJcbmNvbnN0IGV2ZW50c18xID0gcmVxdWlyZShcImV2ZW50c1wiKTtcclxuY29uc3QgcHJvY2VzcyA9IF9faW1wb3J0U3RhcihyZXF1aXJlKFwicHJvY2Vzc1wiKSk7XHJcbmNvbnN0IHV0aWwgPSBfX2ltcG9ydFN0YXIocmVxdWlyZShcInV0aWxcIikpO1xyXG5jb25zdCBjb2xvdXJzXzEgPSByZXF1aXJlKFwiLi9jb2xvdXJzXCIpO1xyXG4vLyBTb21lIGZ1bmN0aW9ucyAoYXMgbm90ZWQpIGFyZSBiYXNlZCBvbiB0aGUgTm9kZSBzdGFuZGFyZCBsaWJyYXJ5LCBmcm9tXHJcbi8vIHRoZSBmb2xsb3dpbmcgZmlsZTpcclxuLy9cclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy9ub2RlL2Jsb2IvbWFpbi9saWIvaW50ZXJuYWwvdXRpbC9kZWJ1Z2xvZy5qc1xyXG4vKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhbiBhZC1ob2MgZGVidWcgbG9nZ2VyIGZvciBHb29nbGUgQ2xvdWQgUGxhdGZvcm1cclxuICogY2xpZW50IGxpYnJhcmllcyBpbiBOb2RlLiBBbiBhZC1ob2MgZGVidWcgbG9nZ2VyIGlzIGEgdG9vbCB3aGljaCBsZXRzXHJcbiAqIHVzZXJzIHVzZSBhbiBleHRlcm5hbCwgdW5pZmllZCBpbnRlcmZhY2UgKGluIHRoaXMgY2FzZSwgZW52aXJvbm1lbnRcclxuICogdmFyaWFibGVzKSB0byBkZXRlcm1pbmUgd2hhdCBsb2dnaW5nIHRoZXkgd2FudCB0byBzZWUgYXQgcnVudGltZS4gVGhpc1xyXG4gKiBpc24ndCBuZWNlc3NhcmlseSBmZWQgaW50byB0aGUgY29uc29sZSwgYnV0IGlzIG1lYW50IHRvIGJlIHVuZGVyIHRoZVxyXG4gKiBjb250cm9sIG9mIHRoZSB1c2VyLiBUaGUga2luZCBvZiBsb2dnaW5nIHRoYXQgd2lsbCBiZSBwcm9kdWNlZCBieSB0aGlzXHJcbiAqIGlzIG1vcmUgbGlrZSBcImNhbGwgcmV0cnkgaGFwcGVuZWRcIiwgbm90IFwiZXZlbnRzIHlvdSdkIHdhbnQgdG8gcmVjb3JkXHJcbiAqIGluIENsb3VkIExvZ2dlclwiLlxyXG4gKlxyXG4gKiBNb3JlIGZvciBHb29nbGVycyBpbXBsZW1lbnRpbmcgbGlicmFyaWVzIHdpdGggaXQ6XHJcbiAqIGdvL2Nsb3VkLWNsaWVudC1sb2dnaW5nLWRlc2lnblxyXG4gKi9cclxuLyoqXHJcbiAqIFBvc3NpYmxlIGxvZyBsZXZlbHMuIFRoZXNlIGFyZSBhIHN1YnNldCBvZiBDbG91ZCBPYnNlcnZhYmlsaXR5IGxldmVscy5cclxuICogaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2xvZ2dpbmcvZG9jcy9yZWZlcmVuY2UvdjIvcmVzdC92Mi9Mb2dFbnRyeSNMb2dTZXZlcml0eVxyXG4gKi9cclxudmFyIExvZ1NldmVyaXR5O1xyXG4oZnVuY3Rpb24gKExvZ1NldmVyaXR5KSB7XHJcbiAgICBMb2dTZXZlcml0eVtcIkRFRkFVTFRcIl0gPSBcIkRFRkFVTFRcIjtcclxuICAgIExvZ1NldmVyaXR5W1wiREVCVUdcIl0gPSBcIkRFQlVHXCI7XHJcbiAgICBMb2dTZXZlcml0eVtcIklORk9cIl0gPSBcIklORk9cIjtcclxuICAgIExvZ1NldmVyaXR5W1wiV0FSTklOR1wiXSA9IFwiV0FSTklOR1wiO1xyXG4gICAgTG9nU2V2ZXJpdHlbXCJFUlJPUlwiXSA9IFwiRVJST1JcIjtcclxufSkoTG9nU2V2ZXJpdHkgfHwgKGV4cG9ydHMuTG9nU2V2ZXJpdHkgPSBMb2dTZXZlcml0eSA9IHt9KSk7XHJcbi8qKlxyXG4gKiBPdXIgbG9nZ2VyIGluc3RhbmNlLiBUaGlzIGFjdHVhbGx5IGNvbnRhaW5zIHRoZSBtZWF0IG9mIGRlYWxpbmdcclxuICogd2l0aCBsb2cgbGluZXMsIGluY2x1ZGluZyBFdmVudEVtaXR0ZXIuIFRoaXMgY29udGFpbnMgdGhlIGZ1bmN0aW9uXHJcbiAqIHRoYXQgd2lsbCBiZSBwYXNzZWQgYmFjayB0byB1c2VycyBvZiB0aGUgcGFja2FnZS5cclxuICovXHJcbmNsYXNzIEFkaG9jRGVidWdMb2dnZXIgZXh0ZW5kcyBldmVudHNfMS5FdmVudEVtaXR0ZXIge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gdXBzdHJlYW0gVGhlIGJhY2tlbmQgd2lsbCBwYXNzIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlXHJcbiAgICAgKiAgIGNhbGxlZCB3aGVuZXZlciBvdXIgbG9nZ2VyIGZ1bmN0aW9uIGlzIGludm9rZWQuXHJcbiAgICAgKi9cclxuICAgIGNvbnN0cnVjdG9yKG5hbWVzcGFjZSwgdXBzdHJlYW0pIHtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMubmFtZXNwYWNlID0gbmFtZXNwYWNlO1xyXG4gICAgICAgIHRoaXMudXBzdHJlYW0gPSB1cHN0cmVhbTtcclxuICAgICAgICB0aGlzLmZ1bmMgPSBPYmplY3QuYXNzaWduKHRoaXMuaW52b2tlLmJpbmQodGhpcyksIHtcclxuICAgICAgICAgICAgLy8gQWxzbyBhZGQgYW4gaW5zdGFuY2UgcG9pbnRlciBiYWNrIHRvIHVzLlxyXG4gICAgICAgICAgICBpbnN0YW5jZTogdGhpcyxcclxuICAgICAgICAgICAgLy8gQW5kIHB1bGwgb3ZlciB0aGUgRXZlbnRFbWl0dGVyIGZ1bmN0aW9uYWxpdHkuXHJcbiAgICAgICAgICAgIG9uOiAoZXZlbnQsIGxpc3RlbmVyKSA9PiB0aGlzLm9uKGV2ZW50LCBsaXN0ZW5lciksXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gQ29udmVuaWVuY2UgbWV0aG9kcyBmb3IgbG9nIGxldmVscy5cclxuICAgICAgICB0aGlzLmZ1bmMuZGVidWcgPSAoLi4uYXJncykgPT4gdGhpcy5pbnZva2VTZXZlcml0eShMb2dTZXZlcml0eS5ERUJVRywgLi4uYXJncyk7XHJcbiAgICAgICAgdGhpcy5mdW5jLmluZm8gPSAoLi4uYXJncykgPT4gdGhpcy5pbnZva2VTZXZlcml0eShMb2dTZXZlcml0eS5JTkZPLCAuLi5hcmdzKTtcclxuICAgICAgICB0aGlzLmZ1bmMud2FybiA9ICguLi5hcmdzKSA9PiB0aGlzLmludm9rZVNldmVyaXR5KExvZ1NldmVyaXR5LldBUk5JTkcsIC4uLmFyZ3MpO1xyXG4gICAgICAgIHRoaXMuZnVuYy5lcnJvciA9ICguLi5hcmdzKSA9PiB0aGlzLmludm9rZVNldmVyaXR5KExvZ1NldmVyaXR5LkVSUk9SLCAuLi5hcmdzKTtcclxuICAgICAgICB0aGlzLmZ1bmMuc3VibG9nID0gKG5hbWVzcGFjZSkgPT4gbG9nKG5hbWVzcGFjZSwgdGhpcy5mdW5jKTtcclxuICAgIH1cclxuICAgIGludm9rZShmaWVsZHMsIC4uLmFyZ3MpIHtcclxuICAgICAgICAvLyBQdXNoIG91dCBhbnkgdXBzdHJlYW0gbG9nZ2VyIGZpcnN0LlxyXG4gICAgICAgIGlmICh0aGlzLnVwc3RyZWFtKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwc3RyZWFtKGZpZWxkcywgLi4uYXJncyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIFN3YWxsb3cgZXhjZXB0aW9ucyB0byBhdm9pZCBpbnRlcmZlcmluZyB3aXRoIG90aGVyIGxvZ2dpbmcuXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gRW1pdCBzaW5rIGV2ZW50cy5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ2xvZycsIGZpZWxkcywgYXJncyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgIC8vIFN3YWxsb3cgZXhjZXB0aW9ucyB0byBhdm9pZCBpbnRlcmZlcmluZyB3aXRoIG90aGVyIGxvZ2dpbmcuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgaW52b2tlU2V2ZXJpdHkoc2V2ZXJpdHksIC4uLmFyZ3MpIHtcclxuICAgICAgICB0aGlzLmludm9rZSh7IHNldmVyaXR5IH0sIC4uLmFyZ3MpO1xyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuQWRob2NEZWJ1Z0xvZ2dlciA9IEFkaG9jRGVidWdMb2dnZXI7XHJcbi8qKlxyXG4gKiBUaGlzIGNhbiBiZSB1c2VkIGluIHBsYWNlIG9mIGEgcmVhbCBsb2dnZXIgd2hpbGUgd2FpdGluZyBmb3IgUHJvbWlzZXMgb3IgZGlzYWJsaW5nIGxvZ2dpbmcuXHJcbiAqL1xyXG5leHBvcnRzLnBsYWNlaG9sZGVyID0gbmV3IEFkaG9jRGVidWdMb2dnZXIoJycsICgpID0+IHsgfSkuZnVuYztcclxuLyoqXHJcbiAqIFRoZSBiYXNlIGNsYXNzIGZvciBkZWJ1ZyBsb2dnaW5nIGJhY2tlbmRzLiBJdCdzIHBvc3NpYmxlIHRvIHVzZSB0aGlzLCBidXQgdGhlXHJcbiAqIHNhbWUgbm9uLWd1YXJhbnRlZXMgYWJvdmUgc3RpbGwgYXBwbHkgKHVuc3RhYmxlIGludGVyZmFjZSwgZXRjKS5cclxuICpcclxuICogQHByaXZhdGVcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5jbGFzcyBEZWJ1Z0xvZ0JhY2tlbmRCYXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB0aGlzLmNhY2hlZCA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmZpbHRlcnMgPSBbXTtcclxuICAgICAgICB0aGlzLmZpbHRlcnNTZXQgPSBmYWxzZTtcclxuICAgICAgICAvLyBMb29rIGZvciB0aGUgTm9kZSBjb25maWcgdmFyaWFibGUgZm9yIHdoYXQgc3lzdGVtcyB0byBlbmFibGUuIFdlJ2xsIHN0b3JlXHJcbiAgICAgICAgLy8gdGhlc2UgZm9yIHRoZSBsb2cgbWV0aG9kIGJlbG93LCB3aGljaCB3aWxsIGNhbGwgc2V0RmlsdGVycygpIG9uY2UuXHJcbiAgICAgICAgbGV0IG5vZGVGbGFnID0gKF9hID0gcHJvY2Vzcy5lbnZbZXhwb3J0cy5lbnYubm9kZUVuYWJsZXNdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnKic7XHJcbiAgICAgICAgaWYgKG5vZGVGbGFnID09PSAnYWxsJykge1xyXG4gICAgICAgICAgICBub2RlRmxhZyA9ICcqJztcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5maWx0ZXJzID0gbm9kZUZsYWcuc3BsaXQoJywnKTtcclxuICAgIH1cclxuICAgIGxvZyhuYW1lc3BhY2UsIGZpZWxkcywgLi4uYXJncykge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5maWx0ZXJzU2V0KSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldEZpbHRlcnMoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyc1NldCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGxvZ2dlciA9IHRoaXMuY2FjaGVkLmdldChuYW1lc3BhY2UpO1xyXG4gICAgICAgICAgICBpZiAoIWxvZ2dlcikge1xyXG4gICAgICAgICAgICAgICAgbG9nZ2VyID0gdGhpcy5tYWtlTG9nZ2VyKG5hbWVzcGFjZSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNhY2hlZC5zZXQobmFtZXNwYWNlLCBsb2dnZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxvZ2dlcihmaWVsZHMsIC4uLmFyZ3MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAvLyBTaWxlbnRseSBpZ25vcmUgYWxsIGVycm9yczsgd2UgZG9uJ3Qgd2FudCB0aGVtIHRvIGludGVyZmVyZSB3aXRoXHJcbiAgICAgICAgICAgIC8vIHRoZSB1c2VyJ3MgcnVubmluZyBhcHAuXHJcbiAgICAgICAgICAgIC8vIGU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbmV4cG9ydHMuRGVidWdMb2dCYWNrZW5kQmFzZSA9IERlYnVnTG9nQmFja2VuZEJhc2U7XHJcbi8vIFRoZSBiYXNpYyBiYWNrZW5kLiBUaGlzIG9uZSBkZWZpbml0ZWx5IHdvcmtzLCBidXQgaXQncyBsZXNzIGZlYXR1cmUtZmlsbGVkLlxyXG4vL1xyXG4vLyBSYXRoZXIgdGhhbiB1c2luZyB1dGlsLmRlYnVnbG9nLCB0aGlzIGltcGxlbWVudHMgdGhlIHNhbWUgYmFzaWMgbG9naWMgZGlyZWN0bHkuXHJcbi8vIFRoZSByZWFzb24gZm9yIHRoaXMgZGVjaXNpb24gaXMgdGhhdCBkZWJ1Z2xvZyBjaGVja3MgdGhlIHZhbHVlIG9mIHRoZVxyXG4vLyBOT0RFX0RFQlVHIGVudmlyb25tZW50IHZhcmlhYmxlIGJlZm9yZSBhbnkgdXNlciBjb2RlIHJ1bnM7IHdlIHRoZXJlZm9yZVxyXG4vLyBjYW4ndCBwaXBlIG91ciBvd24gZW5hYmxlcyBpbnRvIGl0IChhbmQgdXRpbC5kZWJ1Z2xvZyB3aWxsIG5ldmVyIHByaW50IHVubGVzc1xyXG4vLyB0aGUgdXNlciBkdXBsaWNhdGVzIGl0IGludG8gTk9ERV9ERUJVRywgd2hpY2ggaXNuJ3QgcmVhc29uYWJsZSkuXHJcbi8vXHJcbmNsYXNzIE5vZGVCYWNrZW5kIGV4dGVuZHMgRGVidWdMb2dCYWNrZW5kQmFzZSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIC8vIERlZmF1bHQgdG8gYWxsb3dpbmcgYWxsIHN5c3RlbXMsIHNpbmNlIHdlIGdhdGUgZWFybGllciBiYXNlZCBvbiB3aGV0aGVyIHRoZVxyXG4gICAgICAgIC8vIHZhcmlhYmxlIGlzIGVtcHR5LlxyXG4gICAgICAgIHRoaXMuZW5hYmxlZFJlZ2V4cCA9IC8uKi9nO1xyXG4gICAgfVxyXG4gICAgaXNFbmFibGVkKG5hbWVzcGFjZSkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmVuYWJsZWRSZWdleHAudGVzdChuYW1lc3BhY2UpO1xyXG4gICAgfVxyXG4gICAgbWFrZUxvZ2dlcihuYW1lc3BhY2UpIHtcclxuICAgICAgICBpZiAoIXRoaXMuZW5hYmxlZFJlZ2V4cC50ZXN0KG5hbWVzcGFjZSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgpID0+IHsgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIChmaWVsZHMsIC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBgZmllbGRzYCBuZWVkcyB0byBiZSB0dXJuZWQgaW50byBhIHN0cmluZyBoZXJlLCBvbmUgd2F5IG9yIGFub3RoZXIuXHJcbiAgICAgICAgICAgIGNvbnN0IG5zY29sb3VyID0gYCR7Y29sb3Vyc18xLkNvbG91cnMuZ3JlZW59JHtuYW1lc3BhY2V9JHtjb2xvdXJzXzEuQ29sb3Vycy5yZXNldH1gO1xyXG4gICAgICAgICAgICBjb25zdCBwaWQgPSBgJHtjb2xvdXJzXzEuQ29sb3Vycy55ZWxsb3d9JHtwcm9jZXNzLnBpZH0ke2NvbG91cnNfMS5Db2xvdXJzLnJlc2V0fWA7XHJcbiAgICAgICAgICAgIGxldCBsZXZlbDtcclxuICAgICAgICAgICAgc3dpdGNoIChmaWVsZHMuc2V2ZXJpdHkpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgTG9nU2V2ZXJpdHkuRVJST1I6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBgJHtjb2xvdXJzXzEuQ29sb3Vycy5yZWR9JHtmaWVsZHMuc2V2ZXJpdHl9JHtjb2xvdXJzXzEuQ29sb3Vycy5yZXNldH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSBMb2dTZXZlcml0eS5JTkZPOlxyXG4gICAgICAgICAgICAgICAgICAgIGxldmVsID0gYCR7Y29sb3Vyc18xLkNvbG91cnMubWFnZW50YX0ke2ZpZWxkcy5zZXZlcml0eX0ke2NvbG91cnNfMS5Db2xvdXJzLnJlc2V0fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIExvZ1NldmVyaXR5LldBUk5JTkc6XHJcbiAgICAgICAgICAgICAgICAgICAgbGV2ZWwgPSBgJHtjb2xvdXJzXzEuQ29sb3Vycy55ZWxsb3d9JHtmaWVsZHMuc2V2ZXJpdHl9JHtjb2xvdXJzXzEuQ29sb3Vycy5yZXNldH1gO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBsZXZlbCA9IChfYSA9IGZpZWxkcy5zZXZlcml0eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogTG9nU2V2ZXJpdHkuREVGQVVMVDtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBtc2cgPSB1dGlsLmZvcm1hdFdpdGhPcHRpb25zKHsgY29sb3JzOiBjb2xvdXJzXzEuQ29sb3Vycy5lbmFibGVkIH0sIC4uLmFyZ3MpO1xyXG4gICAgICAgICAgICBjb25zdCBmaWx0ZXJlZEZpZWxkcyA9IE9iamVjdC5hc3NpZ24oe30sIGZpZWxkcyk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJlZEZpZWxkcy5zZXZlcml0eTtcclxuICAgICAgICAgICAgY29uc3QgZmllbGRzSnNvbiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGZpbHRlcmVkRmllbGRzKS5sZW5ndGhcclxuICAgICAgICAgICAgICAgID8gSlNPTi5zdHJpbmdpZnkoZmlsdGVyZWRGaWVsZHMpXHJcbiAgICAgICAgICAgICAgICA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBmaWVsZHNDb2xvdXIgPSBmaWVsZHNKc29uXHJcbiAgICAgICAgICAgICAgICA/IGAke2NvbG91cnNfMS5Db2xvdXJzLmdyZXl9JHtmaWVsZHNKc29ufSR7Y29sb3Vyc18xLkNvbG91cnMucmVzZXR9YFxyXG4gICAgICAgICAgICAgICAgOiAnJztcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignJXMgWyVzfCVzXSAlcyVzJywgcGlkLCBuc2NvbG91ciwgbGV2ZWwsIG1zZywgZmllbGRzSnNvbiA/IGAgJHtmaWVsZHNDb2xvdXJ9YCA6ICcnKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgLy8gUmVnZXhwIHBhdHRlcm5zIGJlbG93IGFyZSBmcm9tIGhlcmU6XHJcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbm9kZWpzL25vZGUvYmxvYi9jMGFlYmVkNGIzMzk1YmQ2NWQ1NGIxOGQxZmQwMGYwNzEwMDJhYzIwL2xpYi9pbnRlcm5hbC91dGlsL2RlYnVnbG9nLmpzI0wzNlxyXG4gICAgc2V0RmlsdGVycygpIHtcclxuICAgICAgICBjb25zdCB0b3RhbEZpbHRlcnMgPSB0aGlzLmZpbHRlcnMuam9pbignLCcpO1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4cCA9IHRvdGFsRmlsdGVyc1xyXG4gICAgICAgICAgICAucmVwbGFjZSgvW3xcXFxce30oKVtcXF1eJCs/Ll0vZywgJ1xcXFwkJicpXHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXCovZywgJy4qJylcclxuICAgICAgICAgICAgLnJlcGxhY2UoLywvZywgJyR8XicpO1xyXG4gICAgICAgIHRoaXMuZW5hYmxlZFJlZ2V4cCA9IG5ldyBSZWdFeHAoYF4ke3JlZ2V4cH0kYCwgJ2knKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogQHJldHVybnMgQSBiYWNrZW5kIGJhc2VkIG9uIE5vZGUgdXRpbC5kZWJ1Z2xvZzsgdGhpcyBpcyB0aGUgZGVmYXVsdC5cclxuICovXHJcbmZ1bmN0aW9uIGdldE5vZGVCYWNrZW5kKCkge1xyXG4gICAgcmV0dXJuIG5ldyBOb2RlQmFja2VuZCgpO1xyXG59XHJcbmNsYXNzIERlYnVnQmFja2VuZCBleHRlbmRzIERlYnVnTG9nQmFja2VuZEJhc2Uge1xyXG4gICAgY29uc3RydWN0b3IocGtnKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLmRlYnVnUGtnID0gcGtnO1xyXG4gICAgfVxyXG4gICAgbWFrZUxvZ2dlcihuYW1lc3BhY2UpIHtcclxuICAgICAgICBjb25zdCBkZWJ1Z0xvZ2dlciA9IHRoaXMuZGVidWdQa2cobmFtZXNwYWNlKTtcclxuICAgICAgICByZXR1cm4gKGZpZWxkcywgLi4uYXJncykgPT4ge1xyXG4gICAgICAgICAgICAvLyBUT0RPOiBgZmllbGRzYCBuZWVkcyB0byBiZSB0dXJuZWQgaW50byBhIHN0cmluZyBoZXJlLlxyXG4gICAgICAgICAgICBkZWJ1Z0xvZ2dlcihhcmdzWzBdLCAuLi5hcmdzLnNsaWNlKDEpKTtcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgc2V0RmlsdGVycygpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgY29uc3QgZXhpc3RpbmdGaWx0ZXJzID0gKF9hID0gcHJvY2Vzcy5lbnZbJ05PREVfREVCVUcnXSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogJyc7XHJcbiAgICAgICAgcHJvY2Vzcy5lbnZbJ05PREVfREVCVUcnXSA9IGAke2V4aXN0aW5nRmlsdGVyc30ke2V4aXN0aW5nRmlsdGVycyA/ICcsJyA6ICcnfSR7dGhpcy5maWx0ZXJzLmpvaW4oJywnKX1gO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgXCJkZWJ1Z1wiIHBhY2thZ2UgYmFja2VuZC4gVGhlIHVzZXIgbXVzdCBjYWxsIHJlcXVpcmUoJ2RlYnVnJykgYW5kIHBhc3NcclxuICogdGhlIHJlc3VsdGluZyBvYmplY3QgdG8gdGhpcyBmdW5jdGlvbi5cclxuICpcclxuICogYGBgXHJcbiAqICBzZXRCYWNrZW5kKGdldERlYnVnQmFja2VuZChyZXF1aXJlKCdkZWJ1ZycpKSlcclxuICogYGBgXHJcbiAqXHJcbiAqIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL2RlYnVnXHJcbiAqXHJcbiAqIE5vdGU6IEdvb2dsZSBkb2VzIG5vdCBleHBsaWNpdGx5IGVuZG9yc2Ugb3IgcmVjb21tZW5kIHRoaXMgcGFja2FnZTsgaXQncyBqdXN0XHJcbiAqIGJlaW5nIHByb3ZpZGVkIGFzIGFuIG9wdGlvbi5cclxuICpcclxuICogQHJldHVybnMgQSBiYWNrZW5kIGJhc2VkIG9uIHRoZSBucG0gXCJkZWJ1Z1wiIHBhY2thZ2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXREZWJ1Z0JhY2tlbmQoZGVidWdQa2cpIHtcclxuICAgIHJldHVybiBuZXcgRGVidWdCYWNrZW5kKGRlYnVnUGtnKTtcclxufVxyXG4vKipcclxuICogVGhpcyBwcmV0dHkgbXVjaCB3b3JrcyBsaWtlIHRoZSBOb2RlIGxvZ2dlciwgYnV0IGl0IG91dHB1dHMgc3RydWN0dXJlZFxyXG4gKiBsb2dnaW5nIEpTT04gbWF0Y2hpbmcgR29vZ2xlIENsb3VkJ3MgaW5nZXN0aW9uIHNwZWNzLiBSYXRoZXIgdGhhbiBoYW5kbGluZ1xyXG4gKiBpdHMgb3duIG91dHB1dCwgaXQgd3JhcHMgYW5vdGhlciBiYWNrZW5kLiBUaGUgcGFzc2VkIGJhY2tlbmQgbXVzdCBiZSBhIHN1YmNsYXNzXHJcbiAqIG9mIGBEZWJ1Z0xvZ0JhY2tlbmRCYXNlYCAoYW55IG9mIHRoZSBiYWNrZW5kcyBleHBvc2VkIGJ5IHRoaXMgcGFja2FnZSB3aWxsIHdvcmspLlxyXG4gKi9cclxuY2xhc3MgU3RydWN0dXJlZEJhY2tlbmQgZXh0ZW5kcyBEZWJ1Z0xvZ0JhY2tlbmRCYXNlIHtcclxuICAgIGNvbnN0cnVjdG9yKHVwc3RyZWFtKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy51cHN0cmVhbSA9IChfYSA9IHVwc3RyZWFtKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBtYWtlTG9nZ2VyKG5hbWVzcGFjZSkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBjb25zdCBkZWJ1Z0xvZ2dlciA9IChfYSA9IHRoaXMudXBzdHJlYW0pID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tYWtlTG9nZ2VyKG5hbWVzcGFjZSk7XHJcbiAgICAgICAgcmV0dXJuIChmaWVsZHMsIC4uLmFyZ3MpID0+IHtcclxuICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICBjb25zdCBzZXZlcml0eSA9IChfYSA9IGZpZWxkcy5zZXZlcml0eSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogTG9nU2V2ZXJpdHkuSU5GTztcclxuICAgICAgICAgICAgY29uc3QganNvbiA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgICAgICAgICAgc2V2ZXJpdHksXHJcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB1dGlsLmZvcm1hdCguLi5hcmdzKSxcclxuICAgICAgICAgICAgfSwgZmllbGRzKTtcclxuICAgICAgICAgICAgY29uc3QganNvblN0cmluZyA9IEpTT04uc3RyaW5naWZ5KGpzb24pO1xyXG4gICAgICAgICAgICBpZiAoZGVidWdMb2dnZXIpIHtcclxuICAgICAgICAgICAgICAgIGRlYnVnTG9nZ2VyKGZpZWxkcywganNvblN0cmluZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJXMnLCBqc29uU3RyaW5nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBzZXRGaWx0ZXJzKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAoX2EgPSB0aGlzLnVwc3RyZWFtKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2V0RmlsdGVycygpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBDcmVhdGVzIGEgXCJzdHJ1Y3R1cmVkIGxvZ2dpbmdcIiBiYWNrZW5kLiBUaGlzIHByZXR0eSBtdWNoIHdvcmtzIGxpa2UgdGhlXHJcbiAqIE5vZGUgbG9nZ2VyLCBidXQgaXQgb3V0cHV0cyBzdHJ1Y3R1cmVkIGxvZ2dpbmcgSlNPTiBtYXRjaGluZyBHb29nbGVcclxuICogQ2xvdWQncyBpbmdlc3Rpb24gc3BlY3MgaW5zdGVhZCBvZiBwbGFpbiB0ZXh0LlxyXG4gKlxyXG4gKiBgYGBcclxuICogIHNldEJhY2tlbmQoZ2V0U3RydWN0dXJlZEJhY2tlbmQoKSlcclxuICogYGBgXHJcbiAqXHJcbiAqIEBwYXJhbSB1cHN0cmVhbSBJZiB5b3Ugd2FudCB0byB1c2Ugc29tZXRoaW5nIGJlc2lkZXMgdGhlIE5vZGUgYmFja2VuZCB0b1xyXG4gKiAgIHdyaXRlIHRoZSBhY3R1YWwgbG9nIGxpbmVzIGludG8sIHBhc3MgdGhhdCBoZXJlLlxyXG4gKiBAcmV0dXJucyBBIGJhY2tlbmQgYmFzZWQgb24gR29vZ2xlIENsb3VkIHN0cnVjdHVyZWQgbG9nZ2luZy5cclxuICovXHJcbmZ1bmN0aW9uIGdldFN0cnVjdHVyZWRCYWNrZW5kKHVwc3RyZWFtKSB7XHJcbiAgICByZXR1cm4gbmV3IFN0cnVjdHVyZWRCYWNrZW5kKHVwc3RyZWFtKTtcclxufVxyXG4vKipcclxuICogVGhlIGVudmlyb25tZW50IHZhcmlhYmxlcyB0aGF0IHdlIHN0YW5kYXJkaXplZCBvbiwgZm9yIGFsbCBhZC1ob2MgbG9nZ2luZy5cclxuICovXHJcbmV4cG9ydHMuZW52ID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBGaWx0ZXIgd2lsZGNhcmRzIHNwZWNpZmljIHRvIHRoZSBOb2RlIHN5bnRheCwgYW5kIHNpbWlsYXIgdG8gdGhlIGJ1aWx0LWluXHJcbiAgICAgKiB1dGlscy5kZWJ1Z2xvZygpIGVudmlyb25tZW50IHZhcmlhYmxlLiBJZiBtaXNzaW5nLCBkaXNhYmxlcyBsb2dnaW5nLlxyXG4gICAgICovXHJcbiAgICBub2RlRW5hYmxlczogJ0dPT0dMRV9TREtfTk9ERV9MT0dHSU5HJyxcclxufTtcclxuLy8gS2VlcCBhIGNvcHkgb2YgYWxsIG5hbWVzcGFjZWQgbG9nZ2VycyBzbyB1c2VycyBjYW4gcmVsaWFibHkgLm9uKCkgdGhlbS5cclxuLy8gTm90ZSB0aGF0IHRoZXNlIGNhY2hlZCBmdW5jdGlvbnMgd2lsbCBuZWVkIHRvIGRlYWwgd2l0aCBjaGFuZ2VzIGluIHRoZSBiYWNrZW5kLlxyXG5jb25zdCBsb2dnZXJDYWNoZSA9IG5ldyBNYXAoKTtcclxuLy8gT3VyIGN1cnJlbnQgZ2xvYmFsIGJhY2tlbmQuIFRoaXMgbWlnaHQgYmU6XHJcbmxldCBjYWNoZWRCYWNrZW5kID0gdW5kZWZpbmVkO1xyXG4vKipcclxuICogU2V0IHRoZSBiYWNrZW5kIHRvIHVzZSBmb3Igb3VyIGxvZyBvdXRwdXQuXHJcbiAqIC0gQSBiYWNrZW5kIG9iamVjdFxyXG4gKiAtIG51bGwgdG8gZGlzYWJsZSBsb2dnaW5nXHJcbiAqIC0gdW5kZWZpbmVkIGZvciBcIm5vdGhpbmcgeWV0XCIsIGRlZmF1bHRzIHRvIHRoZSBOb2RlIGJhY2tlbmRcclxuICpcclxuICogQHBhcmFtIGJhY2tlbmQgUmVzdWx0cyBmcm9tIG9uZSBvZiB0aGUgZ2V0KkJhY2tlbmQoKSBmdW5jdGlvbnMuXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRCYWNrZW5kKGJhY2tlbmQpIHtcclxuICAgIGNhY2hlZEJhY2tlbmQgPSBiYWNrZW5kO1xyXG4gICAgbG9nZ2VyQ2FjaGUuY2xlYXIoKTtcclxufVxyXG4vKipcclxuICogQ3JlYXRlcyBhIGxvZ2dpbmcgZnVuY3Rpb24uIE11bHRpcGxlIGNhbGxzIHRvIHRoaXMgd2l0aCB0aGUgc2FtZSBuYW1lc3BhY2VcclxuICogd2lsbCBwcm9kdWNlIHRoZSBzYW1lIGxvZ2dlciwgd2l0aCB0aGUgc2FtZSBldmVudCBlbWl0dGVyIGhvb2tzLlxyXG4gKlxyXG4gKiBOYW1lc3BhY2VzIGNhbiBiZSBhIHNpbXBsZSBzdHJpbmcgKFwic3lzdGVtXCIgbmFtZSksIG9yIGEgcXVhbGlmaWVkIHN0cmluZ1xyXG4gKiAoc3lzdGVtOnN1YnN5c3RlbSksIHdoaWNoIGNhbiBiZSB1c2VkIGZvciBmaWx0ZXJpbmcsIG9yIGZvciBcInN5c3RlbToqXCIuXHJcbiAqXHJcbiAqIEBwYXJhbSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSwgYSBkZXNjcmlwdGl2ZSB0ZXh0IHN0cmluZy5cclxuICogQHJldHVybnMgQSBmdW5jdGlvbiB5b3UgY2FuIGNhbGwgdGhhdCB3b3JrcyBzaW1pbGFyIHRvIGNvbnNvbGUubG9nKCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2cobmFtZXNwYWNlLCBwYXJlbnQpIHtcclxuICAgIC8vIElmIHRoZSBlbmFibGUgZW52aXJvbm1lbnQgdmFyaWFibGUgaXNuJ3Qgc2V0LCBkbyBub3RoaW5nLiBUaGUgdXNlclxyXG4gICAgLy8gY2FuIHN0aWxsIGNob29zZSB0byBzZXQgYSBiYWNrZW5kIG9mIHRoZWlyIGNob2ljZSB1c2luZyB0aGUgbWFudWFsXHJcbiAgICAvLyBgc2V0QmFja2VuZCgpYC5cclxuICAgIGlmICghY2FjaGVkQmFja2VuZCkge1xyXG4gICAgICAgIGNvbnN0IGVuYWJsZXNGbGFnID0gcHJvY2Vzcy5lbnZbZXhwb3J0cy5lbnYubm9kZUVuYWJsZXNdO1xyXG4gICAgICAgIGlmICghZW5hYmxlc0ZsYWcpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGV4cG9ydHMucGxhY2Vob2xkZXI7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gVGhpcyBtaWdodCBoYXBwZW4gbW9zdGx5IGlmIHRoZSB0eXBpbmdzIGFyZSBkcm9wcGVkIGluIGEgdXNlcidzIGNvZGUsXHJcbiAgICAvLyBvciBpZiB0aGV5J3JlIGNhbGxpbmcgZnJvbSBKYXZhU2NyaXB0LlxyXG4gICAgaWYgKCFuYW1lc3BhY2UpIHtcclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5wbGFjZWhvbGRlcjtcclxuICAgIH1cclxuICAgIC8vIEhhbmRsZSBzdWItbG9nZ2Vycy5cclxuICAgIGlmIChwYXJlbnQpIHtcclxuICAgICAgICBuYW1lc3BhY2UgPSBgJHtwYXJlbnQuaW5zdGFuY2UubmFtZXNwYWNlfToke25hbWVzcGFjZX1gO1xyXG4gICAgfVxyXG4gICAgLy8gUmV1c2UgbG9nZ2VycyBzbyB0aGluZ3MgbGlrZSBldmVudCBzaW5rcyBhcmUgcGVyc2lzdGVudC5cclxuICAgIGNvbnN0IGV4aXN0aW5nID0gbG9nZ2VyQ2FjaGUuZ2V0KG5hbWVzcGFjZSk7XHJcbiAgICBpZiAoZXhpc3RpbmcpIHtcclxuICAgICAgICByZXR1cm4gZXhpc3RpbmcuZnVuYztcclxuICAgIH1cclxuICAgIC8vIERvIHdlIGhhdmUgYSBiYWNrZW5kIHlldD9cclxuICAgIGlmIChjYWNoZWRCYWNrZW5kID09PSBudWxsKSB7XHJcbiAgICAgICAgLy8gRXhwbGljaXRseSBkaXNhYmxlZC5cclxuICAgICAgICByZXR1cm4gZXhwb3J0cy5wbGFjZWhvbGRlcjtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGNhY2hlZEJhY2tlbmQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIC8vIE9uZSBoYXNuJ3QgYmVlbiBtYWRlIHlldCwgc28gZGVmYXVsdCB0byBOb2RlLlxyXG4gICAgICAgIGNhY2hlZEJhY2tlbmQgPSBnZXROb2RlQmFja2VuZCgpO1xyXG4gICAgfVxyXG4gICAgLy8gVGhlIGxvZ2dlciBpcyBmdXJ0aGVyIHdyYXBwZWQgc28gd2UgY2FuIGhhbmRsZSB0aGUgYmFja2VuZCBjaGFuZ2luZyBvdXQuXHJcbiAgICBjb25zdCBsb2dnZXIgPSAoKCkgPT4ge1xyXG4gICAgICAgIGxldCBwcmV2aW91c0JhY2tlbmQgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgY29uc3QgbmV3TG9nZ2VyID0gbmV3IEFkaG9jRGVidWdMb2dnZXIobmFtZXNwYWNlLCAoZmllbGRzLCAuLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChwcmV2aW91c0JhY2tlbmQgIT09IGNhY2hlZEJhY2tlbmQpIHtcclxuICAgICAgICAgICAgICAgIC8vIERpZCB0aGUgdXNlciBwYXNzIGEgY3VzdG9tIGJhY2tlbmQ/XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FjaGVkQmFja2VuZCA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4cGxpY2l0bHkgZGlzYWJsZWQuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY2FjaGVkQmFja2VuZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gT25lIGhhc24ndCBiZWVuIG1hZGUgeWV0LCBzbyBkZWZhdWx0IHRvIE5vZGUuXHJcbiAgICAgICAgICAgICAgICAgICAgY2FjaGVkQmFja2VuZCA9IGdldE5vZGVCYWNrZW5kKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c0JhY2tlbmQgPSBjYWNoZWRCYWNrZW5kO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhY2hlZEJhY2tlbmQgPT09IG51bGwgfHwgY2FjaGVkQmFja2VuZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2FjaGVkQmFja2VuZC5sb2cobmFtZXNwYWNlLCBmaWVsZHMsIC4uLmFyZ3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBuZXdMb2dnZXI7XHJcbiAgICB9KSgpO1xyXG4gICAgbG9nZ2VyQ2FjaGUuc2V0KG5hbWVzcGFjZSwgbG9nZ2VyKTtcclxuICAgIHJldHVybiBsb2dnZXIuZnVuYztcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2dnaW5nLXV0aWxzLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/google-logging-utils/build/src/logging-utils.js\n");

/***/ })

};
;