"use strict";(()=>{var e={};e.id=293,e.ids=[293],e.modules={1720:e=>{e.exports=require("@google-cloud/text-to-speech")},399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2345:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>E,patchFetch:()=>v,requestAsyncStorage:()=>u,routeModule:()=>l,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d});var r={};o.r(r),o.d(r,{GET:()=>p});var s=o(9303),n=o(8716),i=o(670),a=o(1720),c=o(4333);async function p(){try{(0,c.s)();let e=process.env.GOOGLE_PRIVATE_KEY.replace(/\\n/g,"\n").replace(/"/g,"").trim(),t=new a.TextToSpeechClient({projectId:process.env.GOOGLE_PROJECT_ID,credentials:{client_email:process.env.GOOGLE_CLIENT_EMAIL,private_key:e}}),[o]=await t.synthesizeSpeech({input:{text:"Hej"},voice:{languageCode:"da-DK"},audioConfig:{audioEncoding:"MP3"}});return new Response(JSON.stringify({success:!0,message:"Successfully connected to Google Cloud Text-to-Speech",audioContent:o.audioContent?"Received":"Not received"}),{headers:{"Content-Type":"application/json"}})}catch(e){return console.error("Error testing Google Cloud services:",e),new Response(JSON.stringify({success:!1,error:e instanceof Error?e.message:"Unknown error",details:e instanceof Error?e.stack:void 0}),{status:500,headers:{"Content-Type":"application/json"}})}}let l=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/test-google/route",pathname:"/api/test-google",filename:"route",bundlePath:"app/api/test-google/route"},resolvedPagePath:"C:\\Users\\aliso\\danish-buddy\\src\\app\\api\\test-google\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:u,staticGenerationAsyncStorage:d,serverHooks:g}=l,E="/api/test-google/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}},9303:(e,t,o)=>{e.exports=o(517)},4333:(e,t,o)=>{o.d(t,{s:()=>s});class r extends Error{constructor(e,t=500,o){super(e),this.statusCode=t,this.details=o,this.name="APIError"}}function s(){let e=["OPENAI_API_KEY","GOOGLE_PROJECT_ID","GOOGLE_CLIENT_EMAIL","GOOGLE_PRIVATE_KEY"];console.log("Environment variables check:"),e.forEach(e=>{console.log(`${e}: ${process.env[e]?"Present":"Missing"}`)});let t=e.filter(e=>!process.env[e]);if(t.length>0)throw new r(`Missing required environment variables: ${t.join(", ")}`,500,{missingVars:t});if(!process.env.GOOGLE_PRIVATE_KEY?.includes("-----BEGIN PRIVATE KEY-----"))throw new r("Invalid Google Cloud private key format",500,{privateKey:process.env.GOOGLE_PRIVATE_KEY?"Present but invalid format":"Missing"})}}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[948],()=>o(2345));module.exports=r})();