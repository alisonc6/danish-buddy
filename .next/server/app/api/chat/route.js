"use strict";(()=>{var e={};e.id=744,e.ids=[744],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},2615:e=>{e.exports=require("http")},8791:e=>{e.exports=require("https")},5315:e=>{e.exports=require("path")},8621:e=>{e.exports=require("punycode")},6162:e=>{e.exports=require("stream")},7360:e=>{e.exports=require("url")},1764:e=>{e.exports=require("util")},2623:e=>{e.exports=require("worker_threads")},1568:e=>{e.exports=require("zlib")},7561:e=>{e.exports=require("node:fs")},4492:e=>{e.exports=require("node:stream")},2477:e=>{e.exports=require("node:stream/web")},3650:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>g,patchFetch:()=>v,requestAsyncStorage:()=>_,routeModule:()=>h,serverHooks:()=>O,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{POST:()=>E});var n=t(9303),o=t(8716),i=t(670),a=t(7070),p=t(5196),u=t(7410);let l=u.z.object({OPENAI_API_KEY:u.z.string().min(1),GOOGLE_PROJECT_ID:u.z.string().min(1),GOOGLE_CLIENT_EMAIL:u.z.string().min(1),GOOGLE_PRIVATE_KEY:u.z.string().min(1),NODE_ENV:u.z.enum(["development","production","test"]).default("development"),NEXT_PUBLIC_DEBUG:u.z.string().optional()});function c(){try{return l.parse(process.env)}catch(e){if(e instanceof u.z.ZodError)throw console.error("❌ Invalid environment variables:",e.errors),Error("Invalid environment variables");throw e}}let d=u.z.object({message:u.z.string().min(1).max(1e3),topic:u.z.string().min(1)});console.log("Chat route environment check:"),console.log("OPENAI_API_KEY:",process.env.OPENAI_API_KEY?"Present":"Missing"),console.log("GOOGLE_PROJECT_ID:",process.env.GOOGLE_PROJECT_ID?"Present":"Missing"),console.log("GOOGLE_CLIENT_EMAIL:",process.env.GOOGLE_CLIENT_EMAIL?"Present":"Missing"),console.log("GOOGLE_PRIVATE_KEY:",process.env.GOOGLE_PRIVATE_KEY?"Present":"Missing");try{c()}catch(e){throw console.error("Environment validation failed:",e),e}async function E(e){try{c();let r=await e.json(),{message:t,topic:s}=d.parse(r),n={danishResponse:`Hej! Dette er en testbesked om ${s}.`,englishTranslation:`Hi! This is a test message about ${s}.`};return a.NextResponse.json(n)}catch(e){if(e instanceof u.z.ZodError){let r={danishResponse:"",englishTranslation:"",error:"Invalid input data",details:e.errors};return a.NextResponse.json(r,{status:400})}return console.error("Error in chat API:",e),a.NextResponse.json({danishResponse:"",englishTranslation:"",error:"Internal server error"},{status:500})}}new p.ZP({apiKey:process.env.OPENAI_API_KEY});let h=new n.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/chat/route",pathname:"/api/chat",filename:"route",bundlePath:"app/api/chat/route"},resolvedPagePath:"C:\\Users\\aliso\\danish-buddy\\src\\app\\api\\chat\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:_,staticGenerationAsyncStorage:m,serverHooks:O}=h,g="/api/chat/route";function v(){return(0,i.patchFetch)({serverHooks:O,staticGenerationAsyncStorage:m})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,972,412],()=>t(3650));module.exports=s})();