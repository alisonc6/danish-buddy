(()=>{var e={};e.id=80,e.ids=[80],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5315:e=>{"use strict";e.exports=require("path")},7360:e=>{"use strict";e.exports=require("url")},5607:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>d}),s(4385),s(2029),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),o=s(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let d=["",{children:["conversations",{children:["[topic]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,4385)),"C:\\Users\\aliso\\danish-buddy\\src\\app\\conversations\\[topic]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"C:\\Users\\aliso\\danish-buddy\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\aliso\\danish-buddy\\src\\app\\conversations\\[topic]\\page.tsx"],u="/conversations/[topic]/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/conversations/[topic]/page",pathname:"/conversations/[topic]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5405:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},542:()=>{},1734:(e,t,s)=>{Promise.resolve().then(s.bind(s,475))},475:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var r=s(326),a=s(7389),i=s(7577);function n({message:e}){return r.jsx("div",{className:`flex ${"user"===e.role?"justify-end":"justify-start"} mb-4`,role:"article","aria-label":`Message from ${"user"===e.role?"you":"Danish Buddy"}`,children:(0,r.jsxs)("div",{className:`max-w-[80%] rounded-lg p-4 ${"user"===e.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"}`,children:[r.jsx("p",{className:"text-sm font-medium mb-1",children:"user"===e.role?"You":"Danish Buddy"}),r.jsx("p",{className:"text-base",children:e.content}),e.translation&&r.jsx("p",{className:"text-sm mt-2 text-gray-500","aria-label":"English translation",children:e.translation})]})})}function o({onSend:e,disabled:t=!1}){let[s,a]=(0,i.useState)("");return(0,r.jsxs)("form",{onSubmit:r=>{r.preventDefault(),s.trim()&&!t&&(e(s.trim()),a(""))},className:"flex gap-2 p-4 border-t border-gray-200",children:[r.jsx("input",{type:"text",value:s,onChange:e=>a(e.target.value),placeholder:"Type your message...",className:"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:t,"aria-label":"Message input","aria-disabled":t}),r.jsx("button",{type:"submit",disabled:t||!s.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200","aria-label":"Send message","aria-disabled":t||!s.trim(),children:"Send"})]})}let l=[{id:"weather",title:"Vejret",icon:"\uD83C\uDF24️",englishTitle:"Weather",color:"from-blue-400 to-blue-600"},{id:"sports",title:"Sport",icon:"⚽",englishTitle:"Sports",color:"from-green-400 to-green-600"},{id:"current-events",title:"Aktuelle Begivenheder",icon:"\uD83D\uDCF0",englishTitle:"Current Events",color:"from-purple-400 to-purple-600"},{id:"vacation",title:"Ferier",icon:"✈️",englishTitle:"Vacations",color:"from-yellow-400 to-yellow-600"},{id:"shopping",title:"Shopping",icon:"\uD83D\uDECD️",englishTitle:"Shopping",color:"from-pink-400 to-pink-600"},{id:"restaurants",title:"Restauranter og Caf\xe9er",icon:"\uD83C\uDF7D️",englishTitle:"Restaurants and Cafes",color:"from-red-400 to-red-600"}];function d(){let e=(0,a.useParams)().topic,t=l.find(t=>t.id===e),[s,d]=(0,i.useState)([]),[c,u]=(0,i.useState)(!1),[p,m]=(0,i.useState)(null),h=async t=>{m(null);let s={role:"user",content:t,timestamp:new Date().toISOString()};d(e=>[...e,s]),u(!0);try{let s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,topic:e})}),r=await s.json();if(!s.ok)throw Error(r.error||"Failed to get response");let a={role:"assistant",content:r.danishResponse,translation:r.englishTranslation,timestamp:new Date().toISOString()};d(e=>[...e,a])}catch(e){console.error("Error sending message:",e),m(e instanceof Error?e.message:"An error occurred")}finally{u(!1)}};return t?r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsx("div",{className:"max-w-4xl mx-auto p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("div",{className:`text-4xl bg-gradient-to-r ${t.color} p-3 rounded-lg`,children:t.icon}),(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:t.title}),r.jsx("p",{className:"text-gray-600",children:t.englishTitle})]})]})}),(0,r.jsxs)("div",{className:"h-[60vh] overflow-y-auto p-4",children:[s.map((e,t)=>r.jsx(n,{message:e},t)),c&&r.jsx("div",{className:"flex justify-start mb-4",children:r.jsx("div",{className:"bg-gray-100 rounded-lg p-4",children:r.jsx("p",{className:"text-gray-600",children:"Danish Buddy is typing..."})})}),p&&r.jsx("div",{className:"flex justify-center mb-4",children:r.jsx("div",{className:"bg-red-100 text-red-800 rounded-lg p-4",children:r.jsx("p",{children:p})})})]}),r.jsx(o,{onSend:h,disabled:c})]})})}):r.jsx("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Topic Not Found"}),r.jsx("p",{className:"text-gray-600",children:"The requested topic does not exist."})]})})}},4385:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`C:\Users\aliso\danish-buddy\src\app\conversations\[topic]\page.tsx#default`)},2029:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o,metadata:()=>n});var r=s(9510),a=s(880),i=s.n(a);s(5023);let n={title:"Danish Buddy",description:"Learn Danish with AI"};function o({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:`${i().variable} antialiased`,children:e})})}},3881:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});var r=s(6621);let a=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,298,621],()=>s(5607));module.exports=r})();