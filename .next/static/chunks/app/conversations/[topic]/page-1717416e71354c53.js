(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80],{3481:function(e,t,s){Promise.resolve().then(s.bind(s,956))},956:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return d}});var r=s(7437),a=s(5475),l=s(2265);function i(e){let{message:t}=e;return(0,r.jsx)("div",{className:"flex ".concat("user"===t.role?"justify-end":"justify-start"," mb-4"),role:"article","aria-label":"Message from ".concat("user"===t.role?"you":"Danish Buddy"),children:(0,r.jsxs)("div",{className:"max-w-[80%] rounded-lg p-4 ".concat("user"===t.role?"bg-blue-500 text-white":"bg-gray-100 text-gray-800"),children:[(0,r.jsx)("p",{className:"text-sm font-medium mb-1",children:"user"===t.role?"You":"Danish Buddy"}),(0,r.jsx)("p",{className:"text-base",children:t.content}),t.translation&&(0,r.jsx)("p",{className:"text-sm mt-2 text-gray-500","aria-label":"English translation",children:t.translation})]})})}function n(e){let{onSend:t,disabled:s=!1}=e,[a,i]=(0,l.useState)("");return(0,r.jsxs)("form",{onSubmit:e=>{e.preventDefault(),a.trim()&&!s&&(t(a.trim()),i(""))},className:"flex gap-2 p-4 border-t border-gray-200",children:[(0,r.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"Type your message...",className:"flex-1 p-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100 disabled:cursor-not-allowed",disabled:s,"aria-label":"Message input","aria-disabled":s}),(0,r.jsx)("button",{type:"submit",disabled:s||!a.trim(),className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200","aria-label":"Send message","aria-disabled":s||!a.trim(),children:"Send"})]})}let o=[{id:"weather",title:"Vejret",icon:"\uD83C\uDF24️",englishTitle:"Weather",color:"from-blue-400 to-blue-600"},{id:"sports",title:"Sport",icon:"⚽",englishTitle:"Sports",color:"from-green-400 to-green-600"},{id:"current-events",title:"Aktuelle Begivenheder",icon:"\uD83D\uDCF0",englishTitle:"Current Events",color:"from-purple-400 to-purple-600"},{id:"vacation",title:"Ferier",icon:"✈️",englishTitle:"Vacations",color:"from-yellow-400 to-yellow-600"},{id:"shopping",title:"Shopping",icon:"\uD83D\uDECD️",englishTitle:"Shopping",color:"from-pink-400 to-pink-600"},{id:"restaurants",title:"Restauranter og Caf\xe9er",icon:"\uD83C\uDF7D️",englishTitle:"Restaurants and Cafes",color:"from-red-400 to-red-600"}];function d(){let e=(0,a.useParams)().topic,t=o.find(t=>t.id===e),[s,d]=(0,l.useState)([]),[c,u]=(0,l.useState)(!1),[h,m]=(0,l.useState)(null),g=async t=>{m(null);let s={role:"user",content:t,timestamp:new Date().toISOString()};d(e=>[...e,s]),u(!0);try{let s=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:t,topic:e})}),r=await s.json();if(!s.ok)throw Error(r.error||"Failed to get response");let a={role:"assistant",content:r.danishResponse,translation:r.englishTranslation,timestamp:new Date().toISOString()};d(e=>[...e,a])}catch(e){console.error("Error sending message:",e),m(e instanceof Error?e.message:"An error occurred")}finally{u(!1)}};return t?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsx)("div",{className:"text-4xl bg-gradient-to-r ".concat(t.color," p-3 rounded-lg"),children:t.icon}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:t.title}),(0,r.jsx)("p",{className:"text-gray-600",children:t.englishTitle})]})]})}),(0,r.jsxs)("div",{className:"h-[60vh] overflow-y-auto p-4",children:[s.map((e,t)=>(0,r.jsx)(i,{message:e},t)),c&&(0,r.jsx)("div",{className:"flex justify-start mb-4",children:(0,r.jsx)("div",{className:"bg-gray-100 rounded-lg p-4",children:(0,r.jsx)("p",{className:"text-gray-600",children:"Danish Buddy is typing..."})})}),h&&(0,r.jsx)("div",{className:"flex justify-center mb-4",children:(0,r.jsx)("div",{className:"bg-red-100 text-red-800 rounded-lg p-4",children:(0,r.jsx)("p",{children:h})})})]}),(0,r.jsx)(n,{onSend:g,disabled:c})]})})}):(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Topic Not Found"}),(0,r.jsx)("p",{className:"text-gray-600",children:"The requested topic does not exist."})]})})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3481)}),_N_E=e.O()}]);